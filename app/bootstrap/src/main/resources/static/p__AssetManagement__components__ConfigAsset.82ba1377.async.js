"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2956],{89964:function(N,P,s){s.r(P);var J=s(97857),_=s.n(J),H=s(13769),A=s.n(H),$=s(15009),T=s.n($),G=s(99289),Q=s.n(G),X=s(5574),g=s.n(X),Y=s(29297),f=s(96987),p=s(21171),q=s(82826),w=s(86548),B=s(3089),L=s(24969),ee=s(39380),se=s(93410),v=s(45830),ne=s(25593),r=s(23323),te=s(68872),D=s(83622),j=s(71230),l=s(15746),_e=s(21532),ae=s(86250),re=s(42075),C=s(25278),W=s(72269),U=s(96486),Ze=s.n(U),O=s(62435),ie=s(24732),e=s(86074),oe=["key","name"],le=["key","name"],K=ne.Z.Text,de=function(){var ue=(0,v.useSearchParams)(),me=g()(ue,1),b=me[0],I=b.get("id"),k=b.get("view")||!1,ce=r.Z.useForm(),Ee=g()(ce,1),x=Ee[0],he=te.ZP.useMessage(),F=g()(he,2),ve=F[0],De=F[1],E=(0,v.useIntl)(),Ce=(0,O.useState)(!0),S=g()(Ce,2),c=S[0],y=S[1],Me=(0,O.useState)(""),V=g()(Me,2),ge=V[0],fe=V[1],R=(0,v.useRequest)(function(i){return(0,p.queryDetailConfigList)(i)},{manual:!0,formatResult:function(a){var n=a.content,m=(0,f.GD)(n)||{};return x.setFieldsValue(m),a==null?void 0:a.content}}),Pe=R.data,z=R.run,je=R.loading,Z=(0,v.useRequest)(function(i){return(0,p.queryResourceDetailById)({id:i})},{manual:!0,formatResult:function(a){var n=a.content,m=JSON.stringify(n==null?void 0:n.instance,null,4);(0,U.isEmpty)(m)||fe(m);var h={resourceId:n==null?void 0:n.resourceId,platform:n==null?void 0:n.platform,resourceType:n==null?void 0:n.resourceType};return z(h),a.content||{}}}),u=Z.data,xe=Z.run,pe=Z.loading;(0,O.useEffect)(function(){I&&xe(I)},[I]);var Oe=function(){y(!1)},Ie=function(){y(!0);var a=(0,f.GD)(Pe)||{};x.setFieldsValue(a)},ye=function(){x.validateFields().then(function(){var a=Q()(T()().mark(function n(m){var h,o,M;return T()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return h=(0,f.UL)(m,u),t.next=3,(0,p.saveDetailConfig)(h);case 3:if(o=t.sent,(o==null?void 0:o.msg)!=="success"){t.next=10;break}return ve.success(E.formatMessage({id:"common.message.text.save.success"})),y(!0),M={resourceId:u==null?void 0:u.resourceId,platform:u==null?void 0:u.platform,resourceType:u==null?void 0:u.resourceType},t.next=10,z(M);case 10:case"end":return t.stop()}},n)}));return function(n){return a.apply(this,arguments)}}())};return(0,e.jsxs)(ee._z,{loading:pe,className:ie.Z.assetConfigPageContainer,breadcrumbRender:!1,title:(0,e.jsxs)(D.ZP,{type:"link",size:"small",onClick:function(){return v.history===null||v.history===void 0?void 0:v.history.back()},children:[(0,e.jsx)(q.Z,{}),E.formatMessage({id:"common.button.text.return"})]}),children:[De,(0,e.jsxs)(j.Z,{style:{height:"100%"},gutter:[32,0],children:[(0,e.jsx)(l.Z,{span:k?24:10,style:{height:"100%"},children:(0,e.jsx)(Y.q9,{editorKey:"assetConfigInstance",value:ge,readOnly:!0,editorStyle:{height:"100%"}})}),(0,e.jsx)(l.Z,{span:k?0:14,children:(0,e.jsx)(_e.ZP,{theme:f.vr,children:(0,e.jsxs)(se.Z,{loading:je,style:{minHeight:"100%"},children:[(0,e.jsx)(j.Z,{children:(0,e.jsx)(ae.Z,{style:{width:"100%"},justify:"flex-end",children:(0,e.jsxs)(re.Z,{size:"small",children:[(0,e.jsxs)(D.ZP,{type:"link",style:{color:"rgba(54, 110, 255, 1)"},href:"https://cloudrec.yuque.com/org-wiki-cloudrec-iew3sz/hocvhx/va0a4s9gggpbnnmn",target:"_blank",children:[(0,e.jsx)("img",{src:f.Uk.linkIcon,style:{height:14},alt:"LINK_ICON"}),E.formatMessage({id:"rule.extend.text.config"})]}),c?(0,e.jsxs)(D.ZP,{style:{padding:"4px 12px"},type:"primary",onClick:function(){return Oe()},children:[(0,e.jsx)(w.Z,{}),E.formatMessage({id:"common.button.text.edit"})]}):(0,e.jsx)(D.ZP,{type:"primary",onClick:function(){return Ie()},children:E.formatMessage({id:"common.button.text.cancel"})}),(0,e.jsx)(D.ZP,{disabled:c,type:"primary",onClick:function(){return ye()},children:E.formatMessage({id:"common.button.text.save"})})]})})}),(0,e.jsxs)(r.Z,{name:"dynamic_form_nest_item",autoComplete:"off",form:x,disabled:c,children:[(0,e.jsxs)(K,{style:{marginBottom:8,display:"block"},children:[E.formatMessage({id:"cloudAccount.extend.title.basic.information"}),"\xA0:\xA0"]}),(0,e.jsx)(r.Z.List,{name:"BASE_INFO",children:function(a,n){var m=n.add,h=n.remove;return(0,e.jsxs)(e.Fragment,{children:[a.map(function(o){var M=o.key,d=o.name,t=A()(o,oe);return(0,e.jsxs)(j.Z,{gutter:[12,0],children:[(0,e.jsx)(l.Z,{span:4,children:(0,e.jsx)(r.Z.Item,_()(_()({},t),{},{name:[d,"name"],rules:[{required:!0}],children:(0,e.jsx)(C.Z,{placeholder:"name"})}))}),(0,e.jsx)(l.Z,{span:8,children:(0,e.jsx)(r.Z.Item,_()(_()({},t),{},{name:[d,"path"],rules:[{required:!0}],children:(0,e.jsx)(C.Z,{placeholder:"path"})}))}),(0,e.jsx)(l.Z,{children:(0,e.jsx)(r.Z.Item,_()(_()({},t),{},{name:[d,"status"],rules:[{required:!1}],initialValue:!0,children:(0,e.jsx)(W.Z,{})}))}),c&&(0,e.jsx)(l.Z,{span:6,children:(0,e.jsx)(r.Z.Item,_()(_()({},t),{},{name:[d,"value"],rules:[{required:!1}],children:(0,e.jsx)(C.Z,{placeholder:"value"})}))}),!c&&(0,e.jsx)(l.Z,{style:{paddingTop:5},children:(0,e.jsx)(B.Z,{onClick:function(){return h(d)}})})]},M)}),!c&&(0,e.jsx)(r.Z.Item,{children:(0,e.jsx)(D.ZP,{type:"dashed",onClick:function(){return m()},block:!0,icon:(0,e.jsx)(L.Z,{}),children:"Add field"})})]})}}),(0,e.jsxs)(K,{style:{marginBottom:8,display:"block"},children:[E.formatMessage({id:"asset.module.text.net.information"}),"\xA0:\xA0"]}),(0,e.jsx)(r.Z.List,{name:"NETWORK",children:function(a,n){var m=n.add,h=n.remove;return(0,e.jsxs)(e.Fragment,{children:[a.map(function(o){var M=o.key,d=o.name,t=A()(o,le);return(0,e.jsxs)(j.Z,{gutter:[12,0],children:[(0,e.jsx)(l.Z,{span:4,children:(0,e.jsx)(r.Z.Item,_()(_()({},t),{},{name:[d,"name"],rules:[{required:!0}],children:(0,e.jsx)(C.Z,{placeholder:"name"})}))}),(0,e.jsx)(l.Z,{span:8,children:(0,e.jsx)(r.Z.Item,_()(_()({},t),{},{name:[d,"path"],rules:[{required:!0}],children:(0,e.jsx)(C.Z,{placeholder:"path"})}))}),(0,e.jsx)(l.Z,{children:(0,e.jsx)(r.Z.Item,_()(_()({},t),{},{name:[d,"status"],rules:[{required:!1}],initialValue:!0,children:(0,e.jsx)(W.Z,{})}))}),c&&(0,e.jsx)(l.Z,{span:6,children:(0,e.jsx)(r.Z.Item,_()(_()({},t),{},{name:[d,"value"],rules:[{required:!1}],children:(0,e.jsx)(C.Z,{placeholder:"value"})}))}),!c&&(0,e.jsx)(l.Z,{style:{paddingTop:5},children:(0,e.jsx)(B.Z,{onClick:function(){return h(d)}})})]},M)}),!c&&(0,e.jsx)(r.Z.Item,{children:(0,e.jsx)(D.ZP,{type:"dashed",onClick:function(){return m()},block:!0,icon:(0,e.jsx)(L.Z,{}),children:"Add field"})})]})}})]})]})})})]})]})};P.default=de},24732:function(N,P){P.Z={polymerizeWrap:"polymerizeWrap___DA0Kx",polymerizeCard:"polymerizeCard___cqy_L",polymerizeHead:"polymerizeHead___wg2jK",polymerizeMain:"polymerizeMain___MABwi",riskWrap:"riskWrap___bmqQb",riskWrapLeft:"riskWrapLeft___IXwxM",riskWrapRight:"riskWrapRight___Kdvj4",riskAsset:"riskAsset___QyUxz",assetMain:"assetMain___cdM5B",newTag:"newTag___MqjNr",assetMainItem:"assetMainItem___m8m8F",assetMainItemLabel:"assetMainItemLabel___xE6cJ",assetView:"assetView____rh3f",assetPageContainer:"assetPageContainer___XCTom",customFilterCard:"customFilterCard___vdglF",customText:"customText___B_t7o",iconWrap:"iconWrap___tQQp4",resourceInstance:"resourceInstance___Y06OO",assetConfigPageContainer:"assetConfigPageContainer___tB7j6",customAssetTable:"customAssetTable___J9RJC",cleanBlock:"cleanBlock___xLiWM",dimBlock:"dimBlock___HBpS1",customField:"customField___J1Iyu",tabProCard:"tabProCard___ahTeu"}}}]);
