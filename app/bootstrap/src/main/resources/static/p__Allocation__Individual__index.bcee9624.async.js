"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8332],{54811:function(fe,w,t){t.d(w,{Z:function(){return b}});var F=t(87462),d=t(62435),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M899.6 276.5L705 396.4 518.4 147.5a8.06 8.06 0 00-12.9 0L319 396.4 124.3 276.5c-5.7-3.5-13.1 1.2-12.2 7.9L188.5 865c1.1 7.9 7.9 14 16 14h615.1c8 0 14.9-6 15.9-14l76.4-580.6c.8-6.7-6.5-11.4-12.3-7.9zm-126 534.1H250.3l-53.8-409.4 139.8 86.1L512 252.9l175.7 234.4 139.8-86.1-53.9 409.4zM512 509c-62.1 0-112.6 50.5-112.6 112.6S449.9 734.2 512 734.2s112.6-50.5 112.6-112.6S574.1 509 512 509zm0 160.9c-26.6 0-48.2-21.6-48.2-48.3 0-26.6 21.6-48.3 48.2-48.3s48.2 21.6 48.2 48.3c0 26.6-21.6 48.3-48.2 48.3z"}}]},name:"crown",theme:"outlined"},B=U,I=t(84089),Z=function(E,$){return d.createElement(I.Z,(0,F.Z)({},E,{ref:$,icon:B}))},c=d.forwardRef(Z),b=c},52745:function(fe,w,t){t.d(w,{Z:function(){return b}});var F=t(87462),d=t(62435),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"},B=U,I=t(84089),Z=function(E,$){return d.createElement(I.Z,(0,F.Z)({},E,{ref:$,icon:B}))},c=d.forwardRef(Z),b=c},64317:function(fe,w,t){var F=t(1413),d=t(91),U=t(22270),B=t(62435),I=t(66758),Z=t(58055),c=t(86074),b=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],g=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],E=function(D,V){var O=D.fieldProps,P=D.children,l=D.params,A=D.proFieldProps,C=D.mode,H=D.valueEnum,G=D.request,X=D.showSearch,k=D.options,q=(0,d.Z)(D,b),Y=(0,B.useContext)(I.Z);return(0,c.jsx)(Z.Z,(0,F.Z)((0,F.Z)({valueEnum:(0,U.h)(H),request:G,params:l,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,F.Z)({options:k,mode:C,showSearch:X,getPopupContainer:Y.getPopupContainer},O),ref:V,proFieldProps:A},q),{},{children:P}))},$=B.forwardRef(function(R,D){var V=R.fieldProps,O=R.children,P=R.params,l=R.proFieldProps,A=R.mode,C=R.valueEnum,H=R.request,G=R.options,X=(0,d.Z)(R,g),k=(0,F.Z)({options:G,mode:A||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},V),q=(0,B.useContext)(I.Z);return(0,c.jsx)(Z.Z,(0,F.Z)((0,F.Z)({valueEnum:(0,U.h)(C),request:H,params:P,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,F.Z)({getPopupContainer:q.getPopupContainer},k),ref:D,proFieldProps:l},X),{},{children:O}))}),x=B.forwardRef(E),e=$,Q=x;Q.SearchSelect=e,Q.displayName="ProFormComponent",w.Z=Q},5966:function(fe,w,t){var F=t(97685),d=t(1413),U=t(91),B=t(21770),I=t(23323),Z=t(55241),c=t(98423),b=t(62435),g=t(58055),E=t(86074),$=["fieldProps","proFieldProps"],x=["fieldProps","proFieldProps"],e="text",Q=function(P){var l=P.fieldProps,A=P.proFieldProps,C=(0,U.Z)(P,$);return(0,E.jsx)(g.Z,(0,d.Z)({valueType:e,fieldProps:l,filedConfig:{valueType:e},proFieldProps:A},C))},R=function(P){var l=(0,B.Z)(P.open||!1,{value:P.open,onChange:P.onOpenChange}),A=(0,F.Z)(l,2),C=A[0],H=A[1];return(0,E.jsx)(I.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(X){var k,q=X.getFieldValue(P.name||[]);return(0,E.jsx)(Z.Z,(0,d.Z)((0,d.Z)({getPopupContainer:function(y){return y&&y.parentNode?y.parentNode:y},onOpenChange:function(y){return H(y)},content:(0,E.jsxs)("div",{style:{padding:"4px 0"},children:[(k=P.statusRender)===null||k===void 0?void 0:k.call(P,q),P.strengthText?(0,E.jsx)("div",{style:{marginTop:10},children:(0,E.jsx)("span",{children:P.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},P.popoverProps),{},{open:C,children:P.children}))}})},D=function(P){var l=P.fieldProps,A=P.proFieldProps,C=(0,U.Z)(P,x),H=(0,b.useState)(!1),G=(0,F.Z)(H,2),X=G[0],k=G[1];return l!=null&&l.statusRender&&C.name?(0,E.jsx)(R,{name:C.name,statusRender:l==null?void 0:l.statusRender,popoverProps:l==null?void 0:l.popoverProps,strengthText:l==null?void 0:l.strengthText,open:X,onOpenChange:k,children:(0,E.jsx)("div",{children:(0,E.jsx)(g.Z,(0,d.Z)({valueType:"password",fieldProps:(0,d.Z)((0,d.Z)({},(0,c.Z)(l,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(Y){var y;l==null||(y=l.onBlur)===null||y===void 0||y.call(l,Y),k(!1)},onClick:function(Y){var y;l==null||(y=l.onClick)===null||y===void 0||y.call(l,Y),k(!0)}}),proFieldProps:A,filedConfig:{valueType:e}},C))})}):(0,E.jsx)(g.Z,(0,d.Z)({valueType:"password",fieldProps:l,proFieldProps:A,filedConfig:{valueType:e}},C))},V=Q;V.Password=D,V.displayName="ProFormComponent",w.Z=V},90672:function(fe,w,t){var F=t(1413),d=t(91),U=t(62435),B=t(58055),I=t(86074),Z=["fieldProps","proFieldProps"],c=function(g,E){var $=g.fieldProps,x=g.proFieldProps,e=(0,d.Z)(g,Z);return(0,I.jsx)(B.Z,(0,F.Z)({ref:E,valueType:"textarea",fieldProps:$,proFieldProps:x},e))};w.Z=U.forwardRef(c)},24163:function(fe,w,t){var F=t(97857),d=t.n(F),U=t(25593),B=t(83062),I=t(62435),Z=t(86074),c=U.Z.Paragraph;w.Z=function(b){var g=b.text,E=b.width,$=b.maxWidth,x=b.rows,e=x===void 0?2:x,Q=b.placement,R=Q===void 0?"top":Q,D=b.color,V=D===void 0?"rgba(0, 0, 0, 0.88)":D,O=b.link,P=O===void 0?!1:O,l=b.onClickCallBackFunc,A=b.style,C=A===void 0?{}:A,H=b.copyable,G=H===void 0?!1:H;return(0,Z.jsx)("div",{style:{maxWidth:$,width:E},children:(0,Z.jsx)(B.Z,{title:(0,Z.jsx)("div",{children:g}),placement:R,children:(0,Z.jsx)(c,{ellipsis:{rows:e},style:d()({marginBottom:0,color:V,cursor:P?"pointer":""},C),onClick:l,copyable:G,children:g})})})}},99069:function(fe,w,t){var F=t(15009),d=t.n(F),U=t(99289),B=t.n(U),I=t(5574),Z=t.n(I),c=t(69492),b=t(98665),g=t(37476),E=t(5966),$=t(97462),x=t(45830),e=t(68872),Q=t(23323),R=t(96486),D=t.n(R),V=t(62435),O=t(86074),P=function(A){var C=(0,x.useAccess)(),H=e.ZP.useMessage(),G=Z()(H,2),X=G[0],k=G[1],q=Q.Z.useForm(),Y=Z()(q,1),y=Y[0],ee=(0,x.useIntl)(),ye=A.editFormVisible,je=A.setEditFormVisible,Ce=function(){je(!1),y.resetFields()},pe=function(){var le=B()(d()().mark(function ge(ve){var z,Ee,he,Te;return d()().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return z=ve.passwordAgo,Ee=ve.passwordNow,he={oldPassword:z,newPassword:Ee,userId:C.userId},de.next=4,(0,b.changeUserPassword)(he);case 4:Te=de.sent,Te.msg==="success"&&(Ce(),X.success(ee.formatMessage({id:"individual.module.text.password.changed.successfully"})),(0,c.A)(600));case 6:case"end":return de.stop()}},ge)}));return function(ve){return le.apply(this,arguments)}}();return(0,O.jsxs)(O.Fragment,{children:[k,(0,O.jsxs)(g.Y,{title:ee.formatMessage({id:"individual.module.text.change.password"}),width:520,form:y,modalProps:{destroyOnClose:!0,onCancel:function(){return Ce()},styles:{body:{paddingTop:12}}},labelCol:{span:ee.locale==="en-US"?7:4},wrapperCol:{span:ee.locale==="en-US"?17:20},layout:"horizontal",open:ye,onFinish:pe,children:[(0,O.jsx)(E.Z.Password,{name:"passwordAgo",label:ee.formatMessage({id:"individual.module.text.old.password"}),rules:[{required:!0}]}),(0,O.jsx)(E.Z.Password,{name:"passwordNow",label:ee.formatMessage({id:"individual.module.text.new.password"}),rules:[{required:!0}]}),(0,O.jsx)($.Z,{name:["passwordNow"],children:function(ge){var ve=ge.passwordNow;return(0,O.jsx)(E.Z.Password,{name:"passwordAck",label:ee.formatMessage({id:"individual.module.text.confirm.password"}),rules:[{required:!0,validator:function(Ee,he){return(0,R.isEmpty)(he)?Promise.reject(ee.formatMessage({id:"individual.module.text.confirm.password.empty.tip"})):he!==ve?Promise.reject(ee.formatMessage({id:"individual.module.text.confirm.password.inconsistent.tip"})):Promise.resolve()}}]})}})]})]})};w.Z=P},29853:function(fe,w,t){t.r(w),t.d(w,{default:function(){return et}});var F=t(5574),d=t.n(F),U=t(71895),B=t(97857),I=t.n(B),Z=t(15009),c=t.n(Z),b=t(99289),g=t.n(b),E=t(53846),$=t(21987),x=t(62435),e=t(86074),Q=function(M){var a=M.text,T=M.color,S=M.link,p=M.rows,W=p===void 0?1:p,m=M.style;return(0,e.jsx)($.Z,{ellipsis:{rows:W},style:I()({marginBottom:0,color:T,cursor:S?"pointer":""},m),copyable:{text:a},children:"*** ***"})},R=Q,D=t(24163),V=t(98665),O=t(37476),P=t(90672),l=t(45830),A=t(68872),C=t(23323),H=function(M){var a=A.ZP.useMessage(),T=d()(a,2),S=T[0],p=T[1],W=C.Z.useForm(),m=d()(W,1),N=m[0],j=(0,l.useIntl)(),ue=M.editFormVisible,te=M.setEditFormVisible,K=M.accessInfo,ae=M.tableActionRef,ce=function(){te(!1),N.resetFields()},v=function(){var re=g()(c()().mark(function ne(oe){var se,ie,me,_,h;return c()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return se=oe.remark,ie={id:K.id,remark:se},n.next=4,(0,V.remarkAccessKey)(ie);case 4:me=n.sent,me.msg==="success"&&(S.success(j.formatMessage({id:"common.message.text.add.success"})),ce(),ae==null||(_=ae.current)===null||_===void 0||(h=_.reloadAndRest)===null||h===void 0||h.call(_));case 6:case"end":return n.stop()}},ne)}));return function(oe){return re.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[p,(0,e.jsx)(O.Y,{title:j.formatMessage({id:"individual.table.columns.remark.information"}),width:460,form:N,modalProps:{destroyOnClose:!0,onCancel:function(){return ce()},styles:{body:{paddingTop:12}}},labelCol:{span:4},wrapperCol:{span:20},layout:"horizontal",open:ue,onFinish:v,children:(0,e.jsx)(P.Z,{name:"remark",label:j.formatMessage({id:"individual.table.columns.text.remark"}),rules:[{required:!0}],initialValue:K==null?void 0:K.remark})})]})},G=H,X=t(86548),k=t(52745),q=t(90498),Y=t(86250),y=t(83622),ee=t(86738),ye=function(){var M=A.ZP.useMessage(),a=d()(M,2),T=a[0],S=a[1],p=(0,l.useIntl)(),W=(0,x.useRef)(),m=(0,x.useState)(!1),N=d()(m,2),j=N[0],ue=N[1],te=(0,x.useState)(0),K=d()(te,2),ae=K[0],ce=K[1],v=(0,x.useRef)({}),re=(0,x.useState)(!1),ne=d()(re,2),oe=ne[0],se=ne[1],ie=function(){var s=g()(c()().mark(function n(){var r,u;return c()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return ue(!0),f.next=3,(0,V.createAccessKey)({});case 3:r=f.sent,ue(!1),r.msg==="success"&&(T.success(p.formatMessage({id:"common.message.text.create.success"})),(u=W.current)===null||u===void 0||u.reloadAndRest());case 6:case"end":return f.stop()}},n)}));return function(){return s.apply(this,arguments)}}(),me=function(){var s=g()(c()().mark(function n(r){var u,o;return c()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,V.deleteAccessKey)({id:r==null?void 0:r.id});case 2:u=i.sent,u.msg==="success"&&(T.success(p.formatMessage({id:"common.message.text.delete.success"})),(o=W.current)===null||o===void 0||o.reloadAndRest());case 4:case"end":return i.stop()}},n)}));return function(r){return s.apply(this,arguments)}}(),_=function(n){v.current=I()({},n),se(!0)},h=[{title:p.formatMessage({id:"cloudAccount.extend.title.createTime"}),dataIndex:"gmtCreate",valueType:"dateTime",align:"left",render:function(n,r){return(0,e.jsx)("section",{style:{color:"#999"},children:(r==null?void 0:r.gmtCreate)||"-"})}},{title:"ACCESS KEY",dataIndex:"accessKey",valueType:"text",align:"left",render:function(n,r){return(0,e.jsx)(D.Z,{text:r==null?void 0:r.accessKey,copyable:!0,placement:"topLeft",rows:1})}},{title:"SECRET KEY",dataIndex:"secretKey",valueType:"text",align:"left",width:320,render:function(n,r){return(0,e.jsx)(R,{text:(r==null?void 0:r.secretKey)||"-",style:{minWidth:320},link:!1})}},{title:p.formatMessage({id:"individual.table.columns.remark.information"}),dataIndex:"remark",valueType:"text",align:"left",render:function(n,r){return(0,e.jsxs)(Y.Z,{align:"center",children:[(0,e.jsx)(D.Z,{text:r.remark,placement:"top",maxWidth:240,rows:1}),(0,e.jsx)(y.ZP,{type:"link",onClick:function(){return _(r)},children:(0,e.jsx)(X.Z,{})})]})}},{title:p.formatMessage({id:"cloudAccount.extend.title.cloud.operate"}),dataIndex:"option",valueType:"option",align:"center",width:120,render:function(n,r){return(0,e.jsx)(ee.Z,{title:p.formatMessage({id:"common.button.text.delete.confirm"}),onConfirm:function(){return me(r)},okText:p.formatMessage({id:"common.button.text.ok"}),cancelText:p.formatMessage({id:"common.button.text.cancel"}),children:(0,e.jsx)(y.ZP,{type:"link",danger:!0,children:(0,e.jsx)(k.Z,{})})})}}];return(0,e.jsxs)(e.Fragment,{children:[S,(0,e.jsx)(q.Z,{headerTitle:(0,e.jsx)("div",{className:E.Z.customTitle,children:p.formatMessage({id:"individual.module.text.authentication.information"})}),actionRef:W,rowKey:"id",search:!1,options:!1,toolBarRender:function(){return[(0,e.jsx)(y.ZP,{type:"primary",onClick:ie,loading:j,disabled:ae>=3,children:p.formatMessage({id:"individual.module.text.add.authentication"})},"create")]},request:g()(c()().mark(function s(){var n,r,u;return c()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,V.queryAccessKeyList)({});case 2:return n=f.sent,r=n.content,u=n.code,ce((r==null?void 0:r.length)||0),f.abrupt("return",{data:r||[],total:(r==null?void 0:r.length)||0,success:u===200||!1});case 7:case"end":return f.stop()}},s)})),columns:h,pagination:!1}),(0,e.jsx)(G,{editFormVisible:oe,setEditFormVisible:se,accessInfo:v.current,tableActionRef:W})]})},je=ye,Ce=t(99069),pe=t(33651),le=t(25593),ge=t(57381),ve=t(71230),z=t(15746),Ee=t(4393),he=t(29448),Te=t(184),be=t(34041),de=t(26412),Ae=t(87547),Fe=t(54811),Oe=t(87462),Ie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M678.3 655.4c24.2-13 51.9-20.4 81.4-20.4h.1c3 0 4.4-3.6 2.2-5.6a371.67 371.67 0 00-103.7-65.8c-.4-.2-.8-.3-1.2-.5C719.2 518 759.6 444.7 759.6 362c0-137-110.8-248-247.5-248S264.7 225 264.7 362c0 82.7 40.4 156 102.6 201.1-.4.2-.8.3-1.2.5-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 00-80.4 119.5A373.6 373.6 0 00137 901.8a8 8 0 008 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C357 641.2 432.2 610 512.2 610c56.7 0 111.1 15.7 158 45.1a8.1 8.1 0 008.1.3zM512.2 534c-45.8 0-88.9-17.9-121.4-50.4A171.2 171.2 0 01340.5 362c0-45.9 17.9-89.1 50.3-121.6S466.3 190 512.2 190s88.9 17.9 121.4 50.4A171.2 171.2 0 01683.9 362c0 45.9-17.9 89.1-50.3 121.6C601.1 516.1 558 534 512.2 534zM880 772H640c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h240c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"user-delete",theme:"outlined"},Re=Ie,Se=t(84089),Le=function(M,a){return x.createElement(Se.Z,(0,Oe.Z)({},M,{ref:a,icon:Re}))},we=x.forwardRef(Le),Be=we,Ue=t(40396),We=t(64317),De=t(32983),Ke=t(96486),tt=le.Z.Text,$e=function(M){var a=A.ZP.useMessage(),T=d()(a,2),S=T[0],p=T[1],W=C.Z.useForm(),m=d()(W,1),N=m[0],j=(0,l.useIntl)(),ue=M.addFormVisible,te=M.addTenantInfo,K=M.setAddFormVisible,ae=M.drawerTableActionRef,ce=function(){var h=g()(c()().mark(function s(n){var r,u,o,f;return c()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return r=I()(I()({},n),{},{tenantId:te.id}),L.next=3,(0,pe.joinUser)(r);case 3:u=L.sent,(u.msg==="success"||[200].includes(u.code))&&(S.success(j.formatMessage({id:"common.message.text.add.success"})),K(!1),(o=ae.current)===null||o===void 0||(f=o.reloadAndRest)===null||f===void 0||f.call(o));case 5:case"end":return L.stop()}},s)}));return function(n){return h.apply(this,arguments)}}(),v=function(){N.resetFields()},re=function(){K(!1),v()},ne=(0,x.useState)(!1),oe=d()(ne,2),se=oe[0],ie=oe[1],me=function(){var h=g()(c()().mark(function s(){var n,r,u,o;return c()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,(0,pe.createInviteCode)({currentTenantId:te.id});case 3:if(n=i.sent,console.log(n),!(n.msg==="success"||[200].includes(n.code))){i.next=29;break}if(r=window.location.origin,u="".concat(r,"/invitation?code=").concat(n.content),i.prev=8,!(navigator.clipboard&&navigator.clipboard.writeText)){i.next=15;break}return i.next=12,navigator.clipboard.writeText(u);case 12:S.success(j.formatMessage({id:"tenant.invite.code.created.success"})||"\u9080\u8BF7\u94FE\u63A5\u5DF2\u751F\u6210\u5E76\u590D\u5236\u5230\u526A\u8D34\u677F"),i.next=22;break;case 15:o=document.createElement("textarea"),o.value=u,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o),S.success(j.formatMessage({id:"tenant.invite.code.created.success"})||"\u9080\u8BF7\u94FE\u63A5\u5DF2\u751F\u6210\u5E76\u590D\u5236\u5230\u526A\u8D34\u677F");case 22:i.next=27;break;case 24:i.prev=24,i.t0=i.catch(8),S.info("\u9080\u8BF7\u94FE\u63A5\u5DF2\u751F\u6210\uFF1A".concat(u));case 27:i.next=30;break;case 29:S.error(j.formatMessage({id:"tenant.invite.code.created.failed"})||"");case 30:i.next=35;break;case 32:i.prev=32,i.t1=i.catch(0),S.error(j.formatMessage({id:"tenant.invite.code.created.failed"})||"\u751F\u6210\u9080\u8BF7\u94FE\u63A5\u5931\u8D25");case 35:case"end":return i.stop()}},s,null,[[0,32],[8,24]])}));return function(){return h.apply(this,arguments)}}(),_=function(){var h=g()(c()().mark(function s(n){return c()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(0,Ke.isEmpty)(n.keyWords.trim())){u.next=2;break}return u.abrupt("return");case 2:return ie(!0),u.abrupt("return",(0,l.request)("".concat(Ue._,"/api/user/queryUserList"),{method:"POST",data:{username:n.keyWords}}).then(function(o){var f;return(o==null||(f=o.content)===null||f===void 0?void 0:f.data)||[]}).catch(function(){return[]}).finally(function(){ie(!1)}));case 4:case"end":return u.stop()}},s)}));return function(n){return h.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[p,(0,e.jsxs)(O.Y,{title:j.formatMessage({id:"tenant.extend.member.add"}),width:520,form:N,modalProps:{destroyOnClose:!0,onCancel:function(){return re()},styles:{body:{paddingTop:12}}},layout:"horizontal",open:ue,onFinish:ce,children:[(0,e.jsx)(We.Z,{allowClear:!0,name:"userId",label:j.formatMessage({id:"user.module.title.user.name"}),placeholder:j.formatMessage({id:"tenant.extend.member.select"}),rules:[{required:!0}],debounceTime:800,request:_,fieldProps:{showSearch:!0,filterOption:!1,fieldNames:{label:"username",value:"userId"},suffixIcon:(0,e.jsx)(e.Fragment,{}),notFoundContent:se?(0,e.jsx)(ge.Z,{size:"small"}):(0,e.jsx)(De.Z,{image:De.Z.PRESENTED_IMAGE_SIMPLE})}}),(0,e.jsx)("div",{style:{marginLeft:j.locale==="en-US"?"25%":"16.67%",marginTop:8,marginBottom:16},children:(0,e.jsx)("span",{style:{color:"#1890ff",cursor:"pointer"},onClick:me,children:"\u6682\u65F6\u672A\u67E5\u8BE2\u5230\u8D26\u53F7\uFF1F\u7ACB\u5373\u9080\u8BF7"})})]})]})},Ve=$e,_e=le.Z.Title,ke=function(M){var a=(0,x.useRef)(),T=A.ZP.useMessage(),S=d()(T,2),p=S[0],W=S[1],m=(0,l.useIntl)(),N=(0,x.useState)(!1),j=d()(N,2),ue=j[0],te=j[1],K=(0,x.useRef)({}),ae=M.drawerVisible,ce=M.setDrawerVisible,v=M.tenantInfo,re=function(){ce(!1)},ne=function(){var _=g()(c()().mark(function h(){return c()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:re();case 1:case"end":return n.stop()}},h)}));return function(){return _.apply(this,arguments)}}(),oe=function(){var _=g()(c()().mark(function h(s){var n,r,u,o;return c()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(v!=null&&v.id){i.next=2;break}return i.abrupt("return");case 2:return n={userId:s,tenantId:v.id},i.prev=3,i.next=6,(0,pe.removeUser)(n);case 6:r=i.sent,(r.code===200||r.msg==="success")&&(p.success(m.formatMessage({id:"common.message.text.delete.success"})),(u=a.current)===null||u===void 0||(o=u.reloadAndRest)===null||o===void 0||o.call(u)),i.next=13;break;case 10:i.prev=10,i.t0=i.catch(3),p.error(m.formatMessage({id:"common.message.text.delete.failed"}));case 13:case"end":return i.stop()}},h,null,[[3,10]])}));return function(s){return _.apply(this,arguments)}}(),se=function(){v&&(K.current=I()({},v),te(!0))},ie=function(){var _=g()(c()().mark(function h(s,n){var r,u,o,f;return c()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(v!=null&&v.id){L.next=2;break}return L.abrupt("return");case 2:return r={userId:s,roleName:n,tenantId:v.id},L.prev=3,L.next=6,(0,pe.changeUserTenantRole)(r);case 6:u=L.sent,(u.code===200||u.msg==="success")&&(p.success(m.formatMessage({id:"common.message.text.edit.success"})),(o=a.current)===null||o===void 0||(f=o.reloadAndRest)===null||f===void 0||f.call(o)),L.next=13;break;case 10:L.prev=10,L.t0=L.catch(3),p.error(m.formatMessage({id:"common.message.text.edit.failed"}));case 13:case"end":return L.stop()}},h,null,[[3,10]])}));return function(s,n){return _.apply(this,arguments)}}(),me=[{title:m.formatMessage({id:"user.module.title.user.name"}),dataIndex:"username",valueType:"text",align:"center"},{title:m.formatMessage({id:"user.module.title.user.id"}),dataIndex:"userId",valueType:"text",align:"center"},{title:m.formatMessage({id:"user.module.title.user.role"}),dataIndex:"roleName",hideInSearch:!0,align:"center",width:120,render:function(h,s){return(0,e.jsx)(be.Z,{value:s.roleName,style:{width:120},onChange:function(r){return ie(s.userId,r)},options:[{label:(0,e.jsxs)("span",{children:[(0,e.jsx)(Ae.Z,{style:{marginRight:8,color:"#1890ff"}}),"user"]}),value:"user"},{label:(0,e.jsxs)("span",{children:[(0,e.jsx)(Fe.Z,{style:{marginRight:8,color:"#faad14"}}),"admin"]}),value:"admin"}]})}},{title:m.formatMessage({id:"cloudAccount.extend.title.createTime"}),dataIndex:"gmtCreate",valueType:"dateTime",hideInSearch:!0,align:"center"},{title:m.formatMessage({id:"cloudAccount.extend.title.updateTime"}),dataIndex:"gmtModified",valueType:"dateTime",hideInSearch:!0,align:"center"},{title:m.formatMessage({id:"common.title.operation"}),dataIndex:"option",valueType:"option",width:120,render:function(h,s){return[(0,e.jsx)(ee.Z,{title:m.formatMessage({id:"common.button.text.delete.confirm"}),onConfirm:function(){return oe(s.userId)},okText:m.formatMessage({id:"common.text.confirm"}),cancelText:m.formatMessage({id:"common.text.cancel"}),children:(0,e.jsx)(y.ZP,{type:"link",danger:!0,icon:(0,e.jsx)(Be,{})})},"remove")]}}];return(0,e.jsxs)(e.Fragment,{children:[W,(0,e.jsxs)(Te.a,{title:(0,e.jsx)("div",{children:(0,e.jsx)(_e,{level:4,style:{margin:0,color:"#1890ff"},children:(v==null?void 0:v.tenantName)||"-"})}),width:"60%",drawerProps:{destroyOnClose:!0,onClose:re,styles:{body:{padding:"24px"}}},open:ae,onFinish:ne,submitter:!1,children:[(0,e.jsxs)("div",{style:{marginBottom:24},children:[(0,e.jsx)(_e,{level:5,style:{marginBottom:16},children:m.formatMessage({id:"tenant.module.text.basic.info"})}),(0,e.jsxs)(de.Z,{column:2,bordered:!0,children:[(0,e.jsx)(de.Z.Item,{label:m.formatMessage({id:"tenant.module.title.tenant.name"}),children:(v==null?void 0:v.tenantName)||"-"}),(0,e.jsx)(de.Z.Item,{label:m.formatMessage({id:"tenant.module.text.member.count"}),children:(v==null?void 0:v.memberCount)||0}),(0,e.jsx)(de.Z.Item,{label:m.formatMessage({id:"tenant.module.text.description"}),span:2,children:(v==null?void 0:v.tenantDesc)||"-"})]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)(_e,{level:5,style:{marginBottom:16},children:m.formatMessage({id:"tenant.module.text.member.list"})}),(0,e.jsx)(q.Z,{actionRef:a,rowKey:"id",search:!1,options:!1,toolBarRender:function(){return[(0,e.jsx)(y.ZP,{type:"primary",onClick:se,children:m.formatMessage({id:"common.text.add"})},"add")]},request:function(){var _=g()(c()().mark(function h(s){var n,r,u,o,f,i;return c()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(v!=null&&v.id){J.next=2;break}return J.abrupt("return",{data:[],total:0,success:!1});case 2:return n=s.pageSize,r=s.current,u={id:v.id,page:r,size:n},J.prev=4,J.next=7,(0,pe.queryMember)(u);case 7:return o=J.sent,f=o.content,i=o.code,J.abrupt("return",{data:(f==null?void 0:f.data)||[],total:(f==null?void 0:f.total)||0,success:i===200});case 13:return J.prev=13,J.t0=J.catch(4),J.abrupt("return",{data:[],total:0,success:!1});case 16:case"end":return J.stop()}},h,null,[[4,13]])}));return function(h){return _.apply(this,arguments)}}(),columns:me,pagination:{showQuickJumper:!1,showSizeChanger:!0,defaultPageSize:10,defaultCurrent:1,showTotal:function(h,s){return(0,he.GO)(h,s,m==null?void 0:m.locale)}}})]})]}),(0,e.jsx)(Ve,{addFormVisible:ue,setAddFormVisible:te,addTenantInfo:K.current,drawerTableActionRef:a})]})},ze=ke,xe=le.Z.Text,Ne=le.Z.Title,He=function(){var M=A.ZP.useMessage(),a=d()(M,2),T=a[0],S=a[1],p=(0,l.useIntl)(),W=(0,x.useState)(!1),m=d()(W,2),N=m[0],j=m[1],ue=(0,x.useState)([]),te=d()(ue,2),K=te[0],ae=te[1],ce=(0,x.useState)(!1),v=d()(ce,2),re=v[0],ne=v[1],oe=(0,x.useState)(null),se=d()(oe,2),ie=se[0],me=se[1],_=function(){var s=g()(c()().mark(function n(){var r;return c()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,j(!0),o.next=4,(0,pe.queryTenantListV2)();case 4:r=o.sent,r.code===200&&r.content?ae(r.content):T.error(p.formatMessage({id:"common.message.text.query.failed"})),o.next=11;break;case 8:o.prev=8,o.t0=o.catch(0),T.error(p.formatMessage({id:"common.message.text.query.failed"}));case 11:return o.prev=11,j(!1),o.finish(11);case 14:case"end":return o.stop()}},n,null,[[0,8,11,14]])}));return function(){return s.apply(this,arguments)}}();(0,x.useEffect)(function(){_()},[]);var h=function(n){me(n),ne(!0)};return(0,e.jsxs)(e.Fragment,{children:[S,(0,e.jsxs)(ge.Z,{spinning:N,children:[(0,e.jsx)(ve.Z,{gutter:[16,16],children:K.map(function(s){return(0,e.jsx)(z.Z,{xs:24,sm:12,md:8,lg:6,children:(0,e.jsxs)(Ee.Z,{hoverable:!0,style:{borderRadius:8,border:"1px solid #f0f0f0",background:"rgba(22, 119, 255, 0.04)",height:"100%",cursor:"pointer",transition:"all 0.3s ease",transform:"translateY(0)"},onMouseEnter:function(r){r.currentTarget.style.transform="translateY(-2px)",r.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.1)"},onMouseLeave:function(r){r.currentTarget.style.transform="translateY(0)",r.currentTarget.style.boxShadow="none"},bodyStyle:{padding:16},onClick:function(){return h(s)},children:[(0,e.jsx)("div",{style:{marginBottom:12},children:(0,e.jsx)(Ne,{level:5,style:{margin:0,color:"#262626",fontSize:18,fontWeight:600,lineHeight:1.4},ellipsis:{tooltip:s.tenantName},children:s.tenantName||"-"})}),(0,e.jsx)("div",{style:{marginBottom:14},children:(0,e.jsx)(xe,{style:{color:"#666",fontSize:14,lineHeight:1.4,maxHeight:40,overflow:"hidden",WebkitLineClamp:2,WebkitBoxOrient:"vertical",display:"-webkit-box"},children:s.tenantDesc||"-"})}),(0,e.jsx)("div",{style:{borderTop:"1px solid #e8e8e8",paddingTop:14,marginTop:14},children:(0,e.jsxs)(ve.Z,{gutter:[16,8],children:[(0,e.jsxs)(z.Z,{span:12,children:[(0,e.jsx)("div",{style:{marginBottom:4},children:(0,e.jsx)(xe,{style:{fontSize:13,fontWeight:500,color:"#333"},children:p.formatMessage({id:"tenant.module.text.member.count"})})}),(0,e.jsx)(xe,{style:{color:"#1677FF",fontSize:13,display:"block"},children:s.memberCount||0})]}),(0,e.jsxs)(z.Z,{span:12,children:[(0,e.jsx)("div",{style:{marginBottom:4},children:(0,e.jsx)(xe,{style:{fontSize:13,fontWeight:500,color:"#333"},children:p.formatMessage({id:"common.link.text.status"})||"Status"})}),(0,e.jsx)(xe,{style:{color:s.status==="valid"?"#52c41a":"#ff4d4f",fontSize:13,display:"block"},children:s.status||"-"})]}),(0,e.jsxs)(z.Z,{span:24,style:{marginTop:8},children:[(0,e.jsx)("div",{style:{marginBottom:4},children:(0,e.jsx)(xe,{style:{fontSize:13,fontWeight:500,color:"#333"},children:p.formatMessage({id:"cloudAccount.extend.title.createAndUpdateTime"})})}),(0,e.jsxs)("div",{style:{color:"#999",fontSize:13,lineHeight:"18px"},children:[(0,e.jsx)("div",{children:s.gmtCreate||"-"}),(0,e.jsx)("div",{children:s.gmtModified||"-"})]})]})]})})]})},s.id)})}),!N&&K.length===0&&(0,e.jsx)("div",{style:{textAlign:"center",padding:"40px 0",color:"#999"},children:(0,e.jsx)(xe,{type:"secondary",children:p.formatMessage({id:"common.message.text.no.data"})})})]}),(0,e.jsx)(ze,{drawerVisible:re,setDrawerVisible:ne,tenantInfo:ie})]})},Ge=He,Ye=t(17910),Je=t(39380),Ze=t(93410),Qe=t(21532),Xe=t(83062),Pe=le.Z.Text,qe=function(){var M,a=(0,l.useAccess)(),T=(0,l.useIntl)(),S=(0,x.useState)(!1),p=d()(S,2),W=p[0],m=p[1],N=function(){m(!0)};return(0,e.jsxs)(Je._z,{title:!1,children:[(0,e.jsxs)(Qe.ZP,{theme:{components:{Form:{itemMarginBottom:12,labelColor:"rgba(131, 131, 131, 1)",labelColonMarginInlineEnd:20}}},children:[(0,e.jsx)(Ze.Z,{title:(0,e.jsxs)(Y.Z,{children:[(0,e.jsx)("img",{src:U.Z,alt:"SMILE_ICON",style:{width:23,marginRight:6}}),(0,he.bi)(),a!=null&&a.username?"".concat(a.username):""]}),style:{marginBottom:16},children:(0,e.jsxs)(ve.Z,{children:[(0,e.jsx)(z.Z,{span:24,children:(0,e.jsxs)(Y.Z,{justify:"space-between",children:[(0,e.jsx)(C.Z.Item,{label:T.formatMessage({id:"individual.module.text.login.user"}),children:(a==null?void 0:a.username)||"***"}),(0,e.jsxs)(y.ZP,{onClick:N,style:{gap:4,padding:"4px 10px"},children:[(0,e.jsx)(X.Z,{}),T.formatMessage({id:"individual.module.text.change.password"})]})]})}),(0,e.jsx)(z.Z,{span:8,children:(0,e.jsx)(C.Z.Item,{label:T.formatMessage({id:"individual.module.text.account.id"}),children:(0,e.jsx)(Pe,{copyable:!0,style:{color:"rgba(74, 74, 74, 1)"},children:(a==null?void 0:a.userId)||"-"})})}),(0,e.jsx)(z.Z,{span:8,children:(0,e.jsx)(C.Z.Item,{label:T.formatMessage({id:"individual.module.text.current.tenant"}),children:(0,e.jsx)(Pe,{style:{color:"rgba(74, 74, 74, 1)"},children:(a==null?void 0:a.tenantName)||"-"})})}),(0,e.jsx)(z.Z,{span:8,children:(0,e.jsx)(C.Z.Item,{label:T.formatMessage({id:"user.module.title.user.role"}),children:a!=null&&a.roleName?(0,e.jsx)(Xe.Z,{title:((M=Ye.QQ.find(function(j){return j.value===(a==null?void 0:a.roleName)}))===null||M===void 0?void 0:M.label)||"-",children:a.roleName==="admin"?(0,e.jsx)(Fe.Z,{style:{color:"#faad14",fontSize:"16px"}}):(0,e.jsx)(Ae.Z,{style:{color:"#1890ff",fontSize:"16px"}})}):(0,e.jsx)(Pe,{style:{color:"rgba(74, 74, 74, 1)"},children:"-"})})}),(0,e.jsx)(z.Z,{span:8,children:(0,e.jsx)(C.Z.Item,{label:T.formatMessage({id:"cloudAccount.extend.title.createTime"}),children:(0,e.jsx)(Pe,{style:{color:"rgba(74, 74, 74, 1)"},children:(a==null?void 0:a.gmtCreate)||"-"})})}),(0,e.jsx)(z.Z,{span:8,children:(0,e.jsx)(C.Z.Item,{label:T.formatMessage({id:"cloudAccount.extend.title.updateTime"}),children:(0,e.jsx)(Pe,{style:{color:"rgba(74, 74, 74, 1)"},children:(a==null?void 0:a.gmtModified)||"-"})})}),(0,e.jsx)(z.Z,{span:8,children:(0,e.jsx)(C.Z.Item,{label:T.formatMessage({id:"individual.module.text.last.login.time"}),children:(0,e.jsx)(Pe,{style:{color:"rgba(74, 74, 74, 1)"},children:(a==null?void 0:a.lastLoginTime)||"-"})})})]})}),(0,e.jsx)(je,{}),(0,e.jsx)(Ze.Z,{title:(0,e.jsx)("div",{className:"customTitle",children:T.formatMessage({id:"individual.module.text.my.tenants"})}),style:{marginTop:16},children:(0,e.jsx)(Ge,{})})]}),(0,e.jsx)(Ce.Z,{editFormVisible:W,setEditFormVisible:m})]})},et=qe},53846:function(fe,w){w.Z={customTitle:"customTitle___nzcxh",riskHigh:"riskHigh___GstO6",riskMedium:"riskMedium___F4JTb",riskLow:"riskLow___HJopw",imgProcess:"imgProcess___NGndv",imgResult:"imgResult___wKhiG",validTag:"validTag___TRSau",invalidTag:"invalidTag___opVlG",waitingTag:"waitingTag___JZpZT"}}}]);
