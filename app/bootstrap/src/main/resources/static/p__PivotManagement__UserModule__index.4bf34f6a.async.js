(self.webpackChunk=self.webpackChunk||[]).push([[3748],{54811:function(U,Z,e){"use strict";e.d(Z,{Z:function(){return f}});var h=e(87462),i=e(62435),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M899.6 276.5L705 396.4 518.4 147.5a8.06 8.06 0 00-12.9 0L319 396.4 124.3 276.5c-5.7-3.5-13.1 1.2-12.2 7.9L188.5 865c1.1 7.9 7.9 14 16 14h615.1c8 0 14.9-6 15.9-14l76.4-580.6c.8-6.7-6.5-11.4-12.3-7.9zm-126 534.1H250.3l-53.8-409.4 139.8 86.1L512 252.9l175.7 234.4 139.8-86.1-53.9 409.4zM512 509c-62.1 0-112.6 50.5-112.6 112.6S449.9 734.2 512 734.2s112.6-50.5 112.6-112.6S574.1 509 512 509zm0 160.9c-26.6 0-48.2-21.6-48.2-48.3 0-26.6 21.6-48.3 48.2-48.3s48.2 21.6 48.2 48.3c0 26.6-21.6 48.3-48.2 48.3z"}}]},name:"crown",theme:"outlined"},s=l,d=e(84089),E=function(u,m){return i.createElement(d.Z,(0,h.Z)({},u,{ref:m,icon:s}))},y=i.forwardRef(E),f=y},86615:function(U,Z,e){"use strict";var h=e(1413),i=e(91),l=e(22270),s=e(78045),d=e(62435),E=e(90789),y=e(58055),f=e(86074),T=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],u=d.forwardRef(function(P,b){var B=P.fieldProps,R=P.options,S=P.radioType,o=P.layout,r=P.proFieldProps,j=P.valueEnum,p=(0,i.Z)(P,T);return(0,f.jsx)(y.Z,(0,h.Z)((0,h.Z)({valueType:S==="button"?"radioButton":"radio",ref:b,valueEnum:(0,l.h)(j,void 0)},p),{},{fieldProps:(0,h.Z)({options:R,layout:o},B),proFieldProps:r,filedConfig:{customLightMode:!0}}))}),m=d.forwardRef(function(P,b){var B=P.fieldProps,R=P.children;return(0,f.jsx)(s.ZP,(0,h.Z)((0,h.Z)({},B),{},{ref:b,children:R}))}),x=(0,E.G)(m,{valuePropName:"checked",ignoreWidth:!0}),c=x;c.Group=u,c.Button=s.ZP.Button,c.displayName="ProFormComponent",Z.Z=c},5966:function(U,Z,e){"use strict";var h=e(97685),i=e(1413),l=e(91),s=e(21770),d=e(23323),E=e(55241),y=e(98423),f=e(62435),T=e(58055),u=e(86074),m=["fieldProps","proFieldProps"],x=["fieldProps","proFieldProps"],c="text",P=function(o){var r=o.fieldProps,j=o.proFieldProps,p=(0,l.Z)(o,m);return(0,u.jsx)(T.Z,(0,i.Z)({valueType:c,fieldProps:r,filedConfig:{valueType:c},proFieldProps:j},p))},b=function(o){var r=(0,s.Z)(o.open||!1,{value:o.open,onChange:o.onOpenChange}),j=(0,h.Z)(r,2),p=j[0],t=j[1];return(0,u.jsx)(d.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(H){var K,Y=H.getFieldValue(o.name||[]);return(0,u.jsx)(E.Z,(0,i.Z)((0,i.Z)({getPopupContainer:function(O){return O&&O.parentNode?O.parentNode:O},onOpenChange:function(O){return t(O)},content:(0,u.jsxs)("div",{style:{padding:"4px 0"},children:[(K=o.statusRender)===null||K===void 0?void 0:K.call(o,Y),o.strengthText?(0,u.jsx)("div",{style:{marginTop:10},children:(0,u.jsx)("span",{children:o.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},o.popoverProps),{},{open:p,children:o.children}))}})},B=function(o){var r=o.fieldProps,j=o.proFieldProps,p=(0,l.Z)(o,x),t=(0,f.useState)(!1),z=(0,h.Z)(t,2),H=z[0],K=z[1];return r!=null&&r.statusRender&&p.name?(0,u.jsx)(b,{name:p.name,statusRender:r==null?void 0:r.statusRender,popoverProps:r==null?void 0:r.popoverProps,strengthText:r==null?void 0:r.strengthText,open:H,onOpenChange:K,children:(0,u.jsx)("div",{children:(0,u.jsx)(T.Z,(0,i.Z)({valueType:"password",fieldProps:(0,i.Z)((0,i.Z)({},(0,y.Z)(r,["statusRender","popoverProps","strengthText"])),{},{onBlur:function($){var O;r==null||(O=r.onBlur)===null||O===void 0||O.call(r,$),K(!1)},onClick:function($){var O;r==null||(O=r.onClick)===null||O===void 0||O.call(r,$),K(!0)}}),proFieldProps:j,filedConfig:{valueType:c}},p))})}):(0,u.jsx)(T.Z,(0,i.Z)({valueType:"password",fieldProps:r,proFieldProps:j,filedConfig:{valueType:c}},p))},R=P;R.Password=B,R.displayName="ProFormComponent",Z.Z=R},69055:function(U,Z,e){"use strict";e.d(Z,{Z:function(){return b}});var h=e(22181),i=e(83622),l=e(87462),s=e(62435),d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},E=d,y=e(84089),f=function(R,S){return s.createElement(y.Z,(0,l.Z)({},R,{ref:S,icon:E}))},T=s.forwardRef(f),u=T,m=e(45830),x={noPermissionContainer:"noPermissionContainer___mfh3D","ant-result":"ant-result___HwWPh","ant-result-icon":"ant-result-icon___kCRak",anticon:"anticon___dFq4q","ant-result-title":"ant-result-title___qzgxn","ant-result-subtitle":"ant-result-subtitle___wgaK1","ant-result-extra":"ant-result-extra___YuiiI","ant-btn":"ant-btn___SR44Y",dark:"dark___6IwTX",fadeInUp:"fadeInUp___lq2_S"},c=e(86074),P=function(R){var S=R.title,o=R.subTitle,r=R.showReturnButton,j=r===void 0?!0:r,p=R.onReturn,t=(0,m.useIntl)(),z=function(){p?p():m.history===null||m.history===void 0||m.history.push("/")};return(0,c.jsx)("div",{className:x.noPermissionContainer,children:(0,c.jsx)(h.ZP,{icon:(0,c.jsx)(u,{}),status:"403",title:S||t.formatMessage({id:"common.message.text.no.permission.title"}),subTitle:o||t.formatMessage({id:"common.message.text.no.permission.subtitle"}),extra:j&&(0,c.jsx)(i.ZP,{type:"primary",onClick:z,children:t.formatMessage({id:"common.button.text.return"})})})})},b=P},82043:function(U,Z,e){"use strict";var h=e(62435),i=e(45830),l=e(69055),s=e(86074),d=function(y){var f=y.children,T=y.accessKey,u=y.fallback,m=(0,i.useAccess)(),x=(0,i.useIntl)();if(!T)return(0,s.jsx)(s.Fragment,{children:f});var c=m[T];return c?(0,s.jsx)(s.Fragment,{children:f}):(0,s.jsx)(s.Fragment,{children:u||(0,s.jsx)(l.Z,{title:x.formatMessage({id:"common.message.text.no.permission.title"}),subTitle:x.formatMessage({id:"common.message.text.no.permission.subtitle"})})})};Z.Z=d},61188:function(U,Z,e){"use strict";e.r(Z),e.d(Z,{default:function(){return xe}});var h=e(97857),i=e.n(h),l=e(15009),s=e.n(l),d=e(99289),E=e.n(d),y=e(5574),f=e.n(y),T=e(53846),u=e(82043),m=e(13769),x=e.n(m),c=e(98665),P=e(17910),b=e(37476),B=e(5966),R=e(86615),S=e(45830),o=e(68872),r=e(23323),j=e(96486),p=e(62435),t=e(86074),z=["password"],H=function(w){var ee=o.ZP.useMessage(),X=f()(ee,2),te=X[0],v=X[1],Q=r.Z.useForm(),ae=f()(Q,1),J=ae[0],F=(0,S.useIntl)(),N=w.editFormVisible,a=w.userInfo,ne=w.setEditFormVisible,oe=w.tableActionRef,ie=function(){var n=E()(s()().mark(function g(A){var D,L,M,V,C,_,re;return s()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return D=A.password,L=x()(A,z),M=i()(i()({},L),{},{status:(a==null?void 0:a.status)||"valid"}),a.id&&(M.id=a==null?void 0:a.id),(0,j.isEmpty)(D)||(M.password=D),V=a.id?c.updateUser:c.createUser,k.next=7,V(M);case 7:C=k.sent,(C.msg==="success"||[200].includes(C.code))&&(a!=null&&a.id?te.success(F.formatMessage({id:"common.message.text.edit.success"})):te.success(F.formatMessage({id:"common.message.text.create.success"})),ne(!1),(_=oe.current)===null||_===void 0||(re=_.reloadAndRest)===null||re===void 0||re.call(_));case 9:case"end":return k.stop()}},g)}));return function(A){return n.apply(this,arguments)}}();(0,p.useEffect)(function(){N&&!(0,j.isEmpty)(a)&&J.setFieldsValue(i()({},a))},[N,a]);var W=function(){J.resetFields()},I=function(){ne(!1),W()};return(0,t.jsxs)(t.Fragment,{children:[v,(0,t.jsxs)(b.Y,{title:a!=null&&a.id?F.formatMessage({id:"user.extend.title.edit"}):F.formatMessage({id:"user.extend.title.add"}),width:560,form:J,modalProps:{destroyOnClose:!0,onCancel:function(){return I()},styles:{body:{paddingTop:12}}},labelCol:{span:F.locale==="en-US"?6:4},wrapperCol:{span:F.locale==="en-US"?18:20},layout:"horizontal",open:N,onFinish:ie,children:[(0,t.jsx)(B.Z,{name:"userId",label:F.formatMessage({id:"user.module.title.user.id"}),rules:[{required:!0,message:F.formatMessage({id:"user.extend.userId.message"}),pattern:/^[a-zA-Z0-9_]{5,24}$/}],placeholder:F.formatMessage({id:"user.extend.userId.placeholder"}),fieldProps:{disabled:!!(a!=null&&a.id)}}),(0,t.jsx)(B.Z.Password,{name:"password",label:F.formatMessage({id:"user.module.title.user.password"}),rules:[{required:!(a!=null&&a.id)}]}),(0,t.jsx)(B.Z,{name:"username",label:F.formatMessage({id:"user.module.title.user.name"}),rules:[{required:!0}]}),(0,t.jsx)(R.Z.Group,{name:"roleName",label:F.formatMessage({id:"user.module.title.user.role"}),rules:[{required:!0}],initialValue:"user",options:P.QQ})]})]})},K=H,Y=e(29448),$=e(39380),O=e(90498),q=e(83062),se=e(83622),le=e(96074),de=e(86738),ce=e(72269),me=e(54811),ve=e(87547),fe=e(86548),pe=e(48689),ge=function(){var w=o.ZP.useMessage(),ee=f()(w,2),X=ee[0],te=ee[1],v=(0,S.useIntl)(),Q=(0,p.useRef)(),ae=(0,p.useState)(!1),J=f()(ae,2),F=J[0],N=J[1],a=(0,p.useRef)({}),ne=function(){var W=E()(s()().mark(function I(n,g){var A,D,L,M;return s()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return A={id:n,status:g},C.next=3,(0,c.changeUserStatus)(A);case 3:D=C.sent,(D.code===200||D.msg==="success")&&(X.success(v.formatMessage({id:"common.message.text.edit.success"})),(L=Q.current)===null||L===void 0||(M=L.reloadAndRest)===null||M===void 0||M.call(L));case 5:case"end":return C.stop()}},I)}));return function(n,g){return W.apply(this,arguments)}}(),oe=function(){var W=E()(s()().mark(function I(n){var g,A,D;return s()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,(0,c.deleteUser)({userId:n});case 2:g=M.sent,(g.code===200||g.msg==="success")&&(X.success(v.formatMessage({id:"common.message.text.delete.success"})),(A=Q.current)===null||A===void 0||(D=A.reloadAndRest)===null||D===void 0||D.call(A));case 4:case"end":return M.stop()}},I)}));return function(n){return W.apply(this,arguments)}}(),ie=[{title:v.formatMessage({id:"cloudAccount.extend.title.createAndUpdateTime"}),dataIndex:"gmtCreated",valueType:"text",align:"left",hideInSearch:!0,render:function(I,n){return(0,t.jsxs)("div",{children:[(0,t.jsx)("section",{style:{color:"#999"},children:(n==null?void 0:n.gmtCreate)||"-"}),(0,t.jsx)("section",{style:{color:"#999"},children:(n==null?void 0:n.gmtModified)||"-"})]})}},{title:v.formatMessage({id:"user.module.title.user.name"}),dataIndex:"username",valueType:"text",align:"center"},{title:v.formatMessage({id:"user.module.title.user.id"}),dataIndex:"userId",valueType:"text",align:"center"},{title:v.formatMessage({id:"user.module.title.user.role"}),dataIndex:"roleName",valueType:"select",hideInSearch:!0,align:"center",valueEnum:(0,Y.W_)(P.QQ),render:function(I,n){var g=n.roleName==="admin";return(0,t.jsx)(q.Z,{title:v.formatMessage({id:g?"common.tag.text.admin":"common.tag.text.user"}),children:g?(0,t.jsx)(me.Z,{style:{color:"#faad14",fontSize:"16px"}}):(0,t.jsx)(ve.Z,{style:{color:"#1890ff",fontSize:"16px"}})})}},{title:v.formatMessage({id:"cloudAccount.extend.title.cloud.operate"}),dataIndex:"option",valueType:"option",align:"center",render:function(I,n){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(q.Z,{title:v.formatMessage({id:"common.button.text.edit"}),children:(0,t.jsx)(se.ZP,{size:"small",type:"link",icon:(0,t.jsx)(fe.Z,{}),onClick:function(){N(!0),a.current=i()({},n)}})}),(0,t.jsx)(le.Z,{type:"vertical"}),(0,t.jsx)(de.Z,{title:v.formatMessage({id:"common.button.text.delete.confirm"}),onConfirm:function(){return oe(n.userId)},okText:v.formatMessage({id:"common.button.text.ok"}),cancelText:v.formatMessage({id:"common.button.text.cancel"}),children:(0,t.jsx)(q.Z,{title:v.formatMessage({id:"common.button.text.delete"}),children:(0,t.jsx)(se.ZP,{type:"link",danger:!0,size:"small",icon:(0,t.jsx)(pe.Z,{})})})}),(0,t.jsx)(le.Z,{type:"vertical",style:{margin:"0 12px 0 0"}}),(0,t.jsx)(q.Z,{title:v.formatMessage({id:"user.module.title.user.status"}),children:(0,t.jsx)(ce.Z,{checkedChildren:v.formatMessage({id:"common.button.text.normal"}),unCheckedChildren:v.formatMessage({id:"common.button.text.disable"}),checked:(n==null?void 0:n.status)==="valid",onClick:function(){return ne(n.id,(n==null?void 0:n.status)==="valid"?"invalid":"valid")}})})]})}}];return(0,t.jsxs)($._z,{ghost:!0,title:!1,breadcrumbRender:!1,children:[te,(0,t.jsx)(O.Z,{headerTitle:(0,t.jsx)("div",{className:T.Z.customTitle,children:v.formatMessage({id:"user.module.title.user.inquiry"})}),actionRef:Q,rowKey:"id",search:{span:6,defaultCollapsed:!1,collapseRender:!1,labelWidth:0},toolBarRender:function(){return[(0,t.jsx)(se.ZP,{type:"primary",onClick:function(){a.current={},N(!0)},children:v.formatMessage({id:"user.extend.text.add"})},"create")]},request:function(){var W=E()(s()().mark(function I(n){var g,A,D,L,M,V,C,_;return s()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return g=n.username,A=n.userId,D=n.pageSize,L=n.current,M={username:g,userId:A,page:L,size:D},G.next=4,(0,c.queryUserList)(M);case 4:return V=G.sent,C=V.content,_=V.code,G.abrupt("return",{data:(C==null?void 0:C.data)||[],total:(C==null?void 0:C.total)||0,success:_===200||!1});case 8:case"end":return G.stop()}},I)}));return function(I){return W.apply(this,arguments)}}(),columns:ie,pagination:{showQuickJumper:!1,showSizeChanger:!0,defaultPageSize:10,defaultCurrent:1}}),(0,t.jsx)(K,{editFormVisible:F,setEditFormVisible:N,userInfo:a.current,tableActionRef:Q})]})},he=function(){return(0,t.jsx)(u.Z,{accessKey:"isPlatformAdmin",children:(0,t.jsx)(ge,{})})},xe=he},53846:function(U,Z){"use strict";Z.Z={customTitle:"customTitle___nzcxh",riskHigh:"riskHigh___GstO6",riskMedium:"riskMedium___F4JTb",riskLow:"riskLow___HJopw",imgProcess:"imgProcess___NGndv",imgResult:"imgResult___wKhiG",validTag:"validTag___TRSau",invalidTag:"invalidTag___opVlG",waitingTag:"waitingTag___JZpZT"}},64599:function(U,Z,e){var h=e(96263);function i(l,s){var d=typeof Symbol!="undefined"&&l[Symbol.iterator]||l["@@iterator"];if(!d){if(Array.isArray(l)||(d=h(l))||s&&l&&typeof l.length=="number"){d&&(l=d);var E=0,y=function(){};return{s:y,n:function(){return E>=l.length?{done:!0}:{done:!1,value:l[E++]}},e:function(x){throw x},f:y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var f=!0,T=!1,u;return{s:function(){d=d.call(l)},n:function(){var x=d.next();return f=x.done,x},e:function(x){T=!0,u=x},f:function(){try{!f&&d.return!=null&&d.return()}finally{if(T)throw u}}}}U.exports=i,U.exports.__esModule=!0,U.exports.default=U.exports}}]);
