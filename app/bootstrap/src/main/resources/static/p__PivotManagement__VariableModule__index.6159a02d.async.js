(self.webpackChunk=self.webpackChunk||[]).push([[7959],{5966:function(F,S,e){"use strict";var y=e(97685),r=e(1413),c=e(91),o=e(21770),D=e(23323),M=e(55241),V=e(98423),f=e(62435),E=e(58055),l=e(86074),C=["fieldProps","proFieldProps"],N=["fieldProps","proFieldProps"],v="text",m=function(t){var n=t.fieldProps,i=t.proFieldProps,g=(0,c.Z)(t,C);return(0,l.jsx)(E.Z,(0,r.Z)({valueType:v,fieldProps:n,filedConfig:{valueType:v},proFieldProps:i},g))},W=function(t){var n=(0,o.Z)(t.open||!1,{value:t.open,onChange:t.onOpenChange}),i=(0,y.Z)(n,2),g=i[0],s=i[1];return(0,l.jsx)(D.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(R){var d,x=R.getFieldValue(t.name||[]);return(0,l.jsx)(M.Z,(0,r.Z)((0,r.Z)({getPopupContainer:function(p){return p&&p.parentNode?p.parentNode:p},onOpenChange:function(p){return s(p)},content:(0,l.jsxs)("div",{style:{padding:"4px 0"},children:[(d=t.statusRender)===null||d===void 0?void 0:d.call(t,x),t.strengthText?(0,l.jsx)("div",{style:{marginTop:10},children:(0,l.jsx)("span",{children:t.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},t.popoverProps),{},{open:g,children:t.children}))}})},O=function(t){var n=t.fieldProps,i=t.proFieldProps,g=(0,c.Z)(t,N),s=(0,f.useState)(!1),h=(0,y.Z)(s,2),R=h[0],d=h[1];return n!=null&&n.statusRender&&g.name?(0,l.jsx)(W,{name:g.name,statusRender:n==null?void 0:n.statusRender,popoverProps:n==null?void 0:n.popoverProps,strengthText:n==null?void 0:n.strengthText,open:R,onOpenChange:d,children:(0,l.jsx)("div",{children:(0,l.jsx)(E.Z,(0,r.Z)({valueType:"password",fieldProps:(0,r.Z)((0,r.Z)({},(0,V.Z)(n,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(B){var p;n==null||(p=n.onBlur)===null||p===void 0||p.call(n,B),d(!1)},onClick:function(B){var p;n==null||(p=n.onClick)===null||p===void 0||p.call(n,B),d(!0)}}),proFieldProps:i,filedConfig:{valueType:v}},g))})}):(0,l.jsx)(E.Z,(0,r.Z)({valueType:"password",fieldProps:n,proFieldProps:i,filedConfig:{valueType:v}},g))},j=m;j.Password=O,j.displayName="ProFormComponent",S.Z=j},69055:function(F,S,e){"use strict";e.d(S,{Z:function(){return W}});var y=e(22181),r=e(83622),c=e(87462),o=e(62435),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},M=D,V=e(84089),f=function(j,T){return o.createElement(V.Z,(0,c.Z)({},j,{ref:T,icon:M}))},E=o.forwardRef(f),l=E,C=e(45830),N={noPermissionContainer:"noPermissionContainer___mfh3D","ant-result":"ant-result___HwWPh","ant-result-icon":"ant-result-icon___kCRak",anticon:"anticon___dFq4q","ant-result-title":"ant-result-title___qzgxn","ant-result-subtitle":"ant-result-subtitle___wgaK1","ant-result-extra":"ant-result-extra___YuiiI","ant-btn":"ant-btn___SR44Y",dark:"dark___6IwTX",fadeInUp:"fadeInUp___lq2_S"},v=e(86074),m=function(j){var T=j.title,t=j.subTitle,n=j.showReturnButton,i=n===void 0?!0:n,g=j.onReturn,s=(0,C.useIntl)(),h=function(){g?g():C.history===null||C.history===void 0||C.history.push("/")};return(0,v.jsx)("div",{className:N.noPermissionContainer,children:(0,v.jsx)(y.ZP,{icon:(0,v.jsx)(l,{}),status:"403",title:T||s.formatMessage({id:"common.message.text.no.permission.title"}),subTitle:t||s.formatMessage({id:"common.message.text.no.permission.subtitle"}),extra:i&&(0,v.jsx)(r.ZP,{type:"primary",onClick:h,children:s.formatMessage({id:"common.button.text.return"})})})})},W=m},82043:function(F,S,e){"use strict";var y=e(62435),r=e(45830),c=e(69055),o=e(86074),D=function(V){var f=V.children,E=V.accessKey,l=V.fallback,C=(0,r.useAccess)(),N=(0,r.useIntl)();if(!E)return(0,o.jsx)(o.Fragment,{children:f});var v=C[E];return v?(0,o.jsx)(o.Fragment,{children:f}):(0,o.jsx)(o.Fragment,{children:l||(0,o.jsx)(c.Z,{title:N.formatMessage({id:"common.message.text.no.permission.title"}),subTitle:N.formatMessage({id:"common.message.text.no.permission.subtitle"})})})};S.Z=D},52078:function(F,S,e){"use strict";var y=e(97857),r=e.n(y),c=e(27997),o=e(62435),D=e(86074),M=function(f){c.Mj.register({id:"json"});var E=f.value,l=E===void 0?"{}":E,C=f.onChange,N=f.editorStyle,v=N===void 0?{}:N,m=f.editorKey,W=m===void 0?"json-editor":m,O=f.readOnly,j=O===void 0?!1:O,T=(0,o.useRef)(),t=(0,o.useRef)(),n=function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"{}";try{return JSON.parse(g),g}catch(s){return console.warn("Invalid JSON string:",s),"{}"}};return(0,o.useEffect)(function(){if(T.current)return t.current?t.current.setValue(l):(t.current=c.j6.create(T.current,{value:n(l),language:"json",theme:"vs",readOnly:j,folding:!0,automaticLayout:!0}),t.current.onDidChangeModelContent(function(){var i=t.current.getValue();console.log("[JSONEditor] \u7F16\u8F91\u5668\u5185\u5BB9\u53D8\u66F4:",{newValue:i}),C==null||C(i)})),function(){if(t!=null&&t.current){var i;t==null||(i=t.current)===null||i===void 0||i.dispose(),t.current=null}}},[]),(0,o.useEffect)(function(){t.current&&l!==t.current.getValue()&&t.current.setValue(n(l))},[l]),(0,D.jsx)("div",{ref:T,style:r()({height:360,borderRadius:4,overflow:"hidden"},v)},W)};S.Z=M},29297:function(F,S,e){"use strict";e.d(S,{q9:function(){return y.Z},Wy:function(){return f},mi:function(){return N}});var y=e(52078),r=e(97857),c=e.n(r),o=e(55171),D=e.n(o),M=e(86074),V=function(m){var W=m.value,O=m.viewerStyle,j=O===void 0?{}:O,T=m.displayDataTypes,t=T===void 0?!1:T,n=m.name,i=n===void 0?"output json":n;return(0,M.jsx)(D(),{src:W,name:i,collapsed:!1,displayDataTypes:t,style:c()({height:360,padding:12,overflow:"scroll",borderRadius:4,background:"#FFF"},j)})},f=V,E=e(27997),l=e(62435),C=function(m){E.Mj.register({id:"rego"});var W=m.value,O=m.onChange,j=m.editorStyle,T=j===void 0?{}:j,t=m.editorKey,n=m.readOnly,i=n===void 0?!1:n,g=(0,l.useRef)(),s=(0,l.useRef)();return(0,l.useEffect)(function(){if(g.current)return s.current||(s.current=E.j6.create(g.current,{value:W,language:"rego",theme:"vs",readOnly:i,automaticLayout:!0}),s.current.onDidChangeModelContent(function(){O==null||O(s.current.getValue())})),function(){if(s.current){var h;(h=s.current)===null||h===void 0||h.dispose(),s.current=null}}},[]),(0,M.jsx)("div",{ref:g,style:c()({width:"100%",height:760,borderRadius:4,overflow:"hidden"},T)},t)},N=C},55541:function(F,S,e){"use strict";e.r(S),e.d(S,{default:function(){return re}});var y=e(97857),r=e.n(y),c=e(15009),o=e.n(c),D=e(99289),M=e.n(D),V=e(5574),f=e.n(V),E=e(53846),l=e(82043),C=e(61713),N=e(39380),v=e(90498),m=e(45830),W=e(68872),O=e(83622),j=e(96074),T=e(86738),t=e(26058),n=e(96486),i=e(62435),g=e(49677),s=e.n(g),h=e(29297),R=e(45605),d=e(37476),x=e(5966),B=e(23323),p=e(83062),a=e(86074),w=function($){var Y=W.ZP.useMessage(),q=f()(Y,2),z=q[0],ae=q[1],Q=B.Z.useForm(),se=f()(Q,1),X=se[0],Z=(0,m.useIntl)(),P=$.editFormVisible,b=$.globalVariableConfigInfo,k=$.setEditFormVisible,K=$.tableActionRef,U=(0,i.useState)("{}"),u=f()(U,2),A=u[0],L=u[1],J=function(_){L(_)},oe=function(){var I=M()(o()().mark(function _(ce){var G,me,ve,ue,fe;return o()().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return G=r()(r()({},ce),{},{data:A}),me=r()({},G),b.id&&(me.id=b.id),le.next=5,(0,C.saveGlobalVariableConfig)(me);case 5:ve=le.sent,ve.msg==="success"&&(b.id?z.success(Z.formatMessage({id:"common.message.text.edit.success"})):z.success(Z.formatMessage({id:"common.message.text.create.success"})),k(!1),(ue=K.current)===null||ue===void 0||(fe=ue.reloadAndRest)===null||fe===void 0||fe.call(ue));case 7:case"end":return le.stop()}},_)}));return function(ce){return I.apply(this,arguments)}}();(0,i.useEffect)(function(){if(P&&!(0,n.isEmpty)(b)&&b.id){var I=Object.assign({},(s()(b),b));X.setFieldsValue(r()({},I)),L(b.data)}},[P,b]);var H=function(){X.resetFields()},ie=function(){k(!1),H()};return(0,a.jsxs)(a.Fragment,{children:[ae,(0,a.jsxs)(d.Y,{labelCol:{span:Z.locale==="en-US"?5:4},wrapperCol:{span:Z.locale==="en-US"?19:20},title:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("span",{style:{marginRight:4},children:b.id?Z.formatMessage({id:"variable.extend.title.edit"}):Z.formatMessage({id:"variable.extend.title.add"})})}),width:640,form:X,modalProps:{destroyOnClose:!0,onCancel:function(){return ie()},styles:{body:{paddingTop:12}}},open:P,onFinish:oe,layout:"horizontal",children:[(0,a.jsx)(x.Z,{name:"name",label:Z.formatMessage({id:"rule.module.text.variable.name"}),rules:[{required:!0}],placeholder:Z.formatMessage({id:"variable.input.name.text.placeholder"})}),(0,a.jsx)(x.Z,{disabled:!!b.id,name:"path",label:Z.formatMessage({id:"rule.module.text.variable.path"}),rules:[{required:!0}],placeholder:Z.formatMessage({id:"variable.input.path.text.placeholder"}),fieldProps:{suffix:!!b.id&&(0,a.jsx)(p.Z,{title:Z.formatMessage({id:"variable.input.path.suffix.tip"}),children:(0,a.jsx)(R.Z,{style:{color:"rgba(0, 0, 0, .45)"}})})}}),(0,a.jsx)(x.Z,{name:"data",label:Z.formatMessage({id:"rule.module.text.variable.value"}),valuePropName:"data",children:(0,a.jsx)(h.q9,{value:A,onChange:J,editorStyle:{height:"420px"},editorKey:"inputEditor"})})]})]})},ee=w,te=function(){var $=(0,i.useRef)(),Y=(0,i.useRef)({}),q=(0,i.useState)(!1),z=f()(q,2),ae=z[0],Q=z[1],se=W.ZP.useMessage(),X=f()(se,1),Z=X[0],P=(0,m.useIntl)(),b=function(){var K=M()(o()().mark(function U(u){var A,L,J;return o()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,(0,C.deleteGlobalVariableConfig)({id:u});case 2:A=H.sent,(A.code===200||A.msg==="success")&&(Z.success(P.formatMessage({id:"common.message.text.delete.success"})),(L=$.current)===null||L===void 0||(J=L.reloadAndRest)===null||J===void 0||J.call(L));case 4:case"end":return H.stop()}},U)}));return function(u){return K.apply(this,arguments)}}(),k=[{title:P.formatMessage({id:"cloudAccount.extend.title.createAndUpdateTime"}),dataIndex:"gmtCreated",valueType:"text",align:"left",hideInSearch:!0,render:function(U,u){return(0,a.jsxs)("div",{children:[(0,a.jsx)("section",{style:{color:"#999"},children:(u==null?void 0:u.gmtCreate)||"-"}),(0,a.jsx)("section",{style:{color:"#999"},children:(u==null?void 0:u.gmtModified)||"-"})]})}},{title:P.formatMessage({id:"rule.module.text.variable.name"}),dataIndex:"name",valueType:"text",align:"left",width:240},{title:P.formatMessage({id:"rule.module.text.variable.path"}),dataIndex:"path",valueType:"text",align:"center"},{title:P.formatMessage({id:"rule.module.text.reference.rules"}),dataIndex:"ruleNameList",key:"ruleNameList",hideInSearch:!0,render:function(U,u){var A;return(0,a.jsx)(a.Fragment,{children:(0,n.isEmpty)(u==null?void 0:u.ruleNameList)?"-":(0,a.jsx)("ul",{style:{paddingInlineStart:16},children:(A=u.ruleNameList)===null||A===void 0?void 0:A.map(function(L,J){return(0,a.jsx)("li",{children:L},J)})})})}},{title:P.formatMessage({id:"rule.input.text.rule.group.creator"}),dataIndex:"username",valueType:"text",align:"left",width:200,hideInSearch:!0},{title:P.formatMessage({id:"cloudAccount.extend.title.cloud.operate"}),dataIndex:"option",valueType:"option",align:"center",fixed:"right",render:function(U,u){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(O.ZP,{size:"small",type:"link",onClick:function(){Q(!0),Y.current=r()({},u)},children:P.formatMessage({id:"common.button.text.edit"})}),(0,a.jsx)(j.Z,{type:"vertical"}),(0,a.jsx)(T.Z,{title:P.formatMessage({id:"common.button.text.delete.confirm"}),onConfirm:function(){return b(u.id)},okText:P.formatMessage({id:"common.button.text.ok"}),cancelText:P.formatMessage({id:"common.button.text.cancel"}),children:(0,a.jsx)(O.ZP,{type:"link",danger:!0,size:"small",children:P.formatMessage({id:"common.button.text.delete"})})})]})}}];return(0,a.jsxs)(t.Z,{children:[(0,a.jsx)(N._z,{ghost:!0,title:!1,breadcrumbRender:!1,children:(0,a.jsx)(v.Z,{headerTitle:(0,a.jsx)("div",{className:E.Z.customTitle,children:P.formatMessage({id:"variable.module.text.variable.inquiry"})}),actionRef:$,rowKey:"id",search:{span:6,defaultCollapsed:!1,collapseRender:!1,labelWidth:0},request:function(){var K=M()(o()().mark(function U(u){var A,L,J,oe,H,ie,I,_;return o()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return A=u.name,L=u.path,J=u.current,oe=u.pageSize,H={name:A,path:L,page:J,size:oe},G.next=4,(0,C.listGlobalVariableConfig)(H);case 4:return ie=G.sent,I=ie.content,_=ie.code,G.abrupt("return",{data:(I==null?void 0:I.data)||[],total:(I==null?void 0:I.total)||0,success:_===200||!1});case 8:case"end":return G.stop()}},U)}));return function(U){return K.apply(this,arguments)}}(),columns:k,pagination:{showQuickJumper:!1,showSizeChanger:!0,defaultPageSize:10,defaultCurrent:1},options:!1,toolBarRender:function(){return[(0,a.jsx)(O.ZP,{type:"primary",onClick:function(){Q(!0),Y.current={}},children:P.formatMessage({id:"variable.extend.text.add"})},"create"),(0,a.jsx)(O.ZP,{href:"https://cloudrec.yuque.com/org-wiki-cloudrec-iew3sz/hocvhx/ty6iu889dp3dgiws",target:"_blank",style:{border:"1px solid #457aff",color:"#457aff",padding:"4px 10px",backgroundColor:"transparent"},children:P.formatMessage({id:"variable.extend.text.config"})},"config")]}})}),(0,a.jsx)(ee,{editFormVisible:ae,setEditFormVisible:Q,globalVariableConfigInfo:Y.current,tableActionRef:$})]})},ne=function(){return(0,a.jsx)(l.Z,{accessKey:"isPlatformAdmin",children:(0,a.jsx)(te,{})})},re=ne},53846:function(F,S){"use strict";S.Z={customTitle:"customTitle___nzcxh",riskHigh:"riskHigh___GstO6",riskMedium:"riskMedium___F4JTb",riskLow:"riskLow___HJopw",imgProcess:"imgProcess___NGndv",imgResult:"imgResult___wKhiG",validTag:"validTag___TRSau",invalidTag:"invalidTag___opVlG",waitingTag:"waitingTag___JZpZT"}},26058:function(F,S,e){"use strict";e.d(S,{Z:function(){return g}});var y=e(74902),r=e(62435),c=e(93967),o=e.n(c),D=e(98423),M=e(53124),V=e(82401),f=e(50344),E=e(23342);function l(s,h,R){return typeof R=="boolean"?R:s.length?!0:(0,f.Z)(h).some(x=>x.type===E.Z)}var C=e(24793),N=function(s,h){var R={};for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&h.indexOf(d)<0&&(R[d]=s[d]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var x=0,d=Object.getOwnPropertySymbols(s);x<d.length;x++)h.indexOf(d[x])<0&&Object.prototype.propertyIsEnumerable.call(s,d[x])&&(R[d[x]]=s[d[x]]);return R};function v({suffixCls:s,tagName:h,displayName:R}){return d=>r.forwardRef((B,p)=>r.createElement(d,Object.assign({ref:p,suffixCls:s,tagName:h},B)))}const m=r.forwardRef((s,h)=>{const{prefixCls:R,suffixCls:d,className:x,tagName:B}=s,p=N(s,["prefixCls","suffixCls","className","tagName"]),{getPrefixCls:a}=r.useContext(M.E_),w=a("layout",R),[ee,te,ne]=(0,C.ZP)(w),re=d?`${w}-${d}`:w;return ee(r.createElement(B,Object.assign({className:o()(R||re,x,te,ne),ref:h},p)))}),W=r.forwardRef((s,h)=>{const{direction:R}=r.useContext(M.E_),[d,x]=r.useState([]),{prefixCls:B,className:p,rootClassName:a,children:w,hasSider:ee,tagName:te,style:ne}=s,re=N(s,["prefixCls","className","rootClassName","children","hasSider","tagName","style"]),de=(0,D.Z)(re,["suffixCls"]),{getPrefixCls:$,className:Y,style:q}=(0,M.dj)("layout"),z=$("layout",B),ae=l(d,w,ee),[Q,se,X]=(0,C.ZP)(z),Z=o()(z,{[`${z}-has-sider`]:ae,[`${z}-rtl`]:R==="rtl"},Y,p,a,se,X),P=r.useMemo(()=>({siderHook:{addSider:b=>{x(k=>[].concat((0,y.Z)(k),[b]))},removeSider:b=>{x(k=>k.filter(K=>K!==b))}}}),[]);return Q(r.createElement(V.V.Provider,{value:P},r.createElement(te,Object.assign({ref:h,className:Z,style:Object.assign(Object.assign({},q),ne)},de),w)))}),O=v({tagName:"div",displayName:"Layout"})(W),j=v({suffixCls:"header",tagName:"header",displayName:"Header"})(m),T=v({suffixCls:"footer",tagName:"footer",displayName:"Footer"})(m),t=v({suffixCls:"content",tagName:"main",displayName:"Content"})(m);var n=O;const i=n;i.Header=j,i.Footer=T,i.Content=t,i.Sider=E.Z,i._InternalSiderContext=E.D;var g=i},85674:function(F,S,e){var y={"./simpleWorker":18352,"./simpleWorker.js":18352};function r(c){return Promise.resolve().then(function(){if(!e.o(y,c)){var o=new Error("Cannot find module '"+c+"'");throw o.code="MODULE_NOT_FOUND",o}var D=y[c];return e(D)})}r.keys=function(){return Object.keys(y)},r.id=85674,F.exports=r},10131:function(F,S,e){var y={"./editorBaseApi":[20927],"./editorBaseApi.js":[20927],"./editorSimpleWorker":[81465],"./editorSimpleWorker.js":[81465],"./editorWorker":[85215],"./editorWorker.js":[85215],"./editorWorkerHost":[98008],"./editorWorkerHost.js":[98008],"./findSectionHeaders":[72846],"./findSectionHeaders.js":[72846],"./getIconClasses":[22016],"./getIconClasses.js":[22016],"./languageFeatureDebounce":[88191],"./languageFeatureDebounce.js":[88191],"./languageFeatures":[71922],"./languageFeatures.js":[71922],"./languageFeaturesService":[7421],"./languageFeaturesService.js":[7421],"./languageService":[81032],"./languageService.js":[81032],"./languagesAssociations":[73536],"./languagesAssociations.js":[73536],"./languagesRegistry":[4765],"./languagesRegistry.js":[4765],"./markerDecorations":[36357],"./markerDecorations.js":[36357],"./markerDecorationsService":[86036],"./markerDecorationsService.js":[86036],"./model":[73733],"./model.js":[73733],"./modelService":[51200],"./modelService.js":[51200],"./resolverService":[88216],"./resolverService.js":[88216],"./semanticTokensDto":[14704],"./semanticTokensDto.js":[14704],"./semanticTokensProviderStyling":[92294],"./semanticTokensProviderStyling.js":[92294],"./semanticTokensStyling":[73343],"./semanticTokensStyling.js":[73343],"./semanticTokensStylingService":[84146],"./semanticTokensStylingService.js":[84146],"./textModelSync/textModelSync.impl":[28944],"./textModelSync/textModelSync.impl.js":[28944],"./textModelSync/textModelSync.protocol":[23145,3145],"./textModelSync/textModelSync.protocol.js":[23145,3145],"./textResourceConfiguration":[71765],"./textResourceConfiguration.js":[71765],"./treeSitterParserService":[28922],"./treeSitterParserService.js":[28922],"./treeViewsDnd":[80642],"./treeViewsDnd.js":[80642],"./treeViewsDndService":[58345],"./treeViewsDndService.js":[58345],"./unicodeTextModelHighlighter":[31446],"./unicodeTextModelHighlighter.js":[31446]};function r(c){if(!e.o(y,c))return Promise.resolve().then(function(){var M=new Error("Cannot find module '"+c+"'");throw M.code="MODULE_NOT_FOUND",M});var o=y[c],D=o[0];return Promise.all(o.slice(1).map(e.e)).then(function(){return e(D)})}r.keys=function(){return Object.keys(y)},r.id=10131,F.exports=r},49677:function(F){function S(e){if(e==null)throw new TypeError("Cannot destructure "+e)}F.exports=S,F.exports.__esModule=!0,F.exports.default=F.exports}}]);
