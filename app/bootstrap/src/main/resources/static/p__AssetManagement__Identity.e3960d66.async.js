"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6482],{81569:function(C,u,e){var x=e(56477),_=e(61011),y=e(86074);u.Z=function(p){var h=p.expanded,c=p.onExpand,m=p.record;return h?(0,y.jsx)(x.Z,{style:{color:"#457aff",fontSize:14},onClick:function(i){return c(m,i)}}):(0,y.jsx)(_.Z,{style:{color:"#457aff",fontSize:14},onClick:function(i){return c(m,i)}})}},3859:function(C,u,e){var x=e(97857),_=e.n(x),y=e(66309),p=e(62435),h=e(53846),c=e(86074);u.Z=function(m){var o,i=m.text,E=m.style,M=m.level;return(0,c.jsx)(y.Z,{className:h.Z[M==="HIGH"?"riskHigh":(o=["MEDIUM","MIDDLE"])!==null&&o!==void 0&&o.includes(M)?"riskMedium":M==="LOW"?"riskLow":""],style:_()({},E),children:i})}},24163:function(C,u,e){var x=e(97857),_=e.n(x),y=e(25593),p=e(83062),h=e(62435),c=e(86074),m=y.Z.Paragraph;u.Z=function(o){var i=o.text,E=o.width,M=o.maxWidth,N=o.rows,G=N===void 0?2:N,T=o.placement,F=T===void 0?"top":T,Q=o.color,$=Q===void 0?"rgba(0, 0, 0, 0.88)":Q,S=o.link,Y=S===void 0?!1:S,H=o.onClickCallBackFunc,z=o.style,L=z===void 0?{}:z,I=o.copyable,Z=I===void 0?!1:I;return(0,c.jsx)("div",{style:{maxWidth:M,width:E},children:(0,c.jsx)(p.Z,{title:(0,c.jsx)("div",{children:i}),placement:F,children:(0,c.jsx)(m,{ellipsis:{rows:G},style:_()({marginBottom:0,color:$,cursor:Y?"pointer":""},L),onClick:H,copyable:Z,children:i})})})}},77352:function(C,u,e){e.r(u),e.d(u,{default:function(){return Oe}});var x=e(15009),_=e.n(x),y=e(99289),p=e.n(y),h=e(97857),c=e.n(h),m=e(5574),o=e.n(m),i=e(62435),E=Object.defineProperty,M=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable,T=(v,d,r)=>d in v?E(v,d,{enumerable:!0,configurable:!0,writable:!0,value:r}):v[d]=r,F=(v,d)=>{for(var r in d||(d={}))N.call(d,r)&&T(v,r,d[r]);if(M)for(var r of M(d))G.call(d,r)&&T(v,r,d[r]);return v};const Q=v=>React.createElement("svg",F({className:"identity_svg__icon",viewBox:"0 0 1088 1024",xmlns:"http://www.w3.org/2000/svg",width:212.5,height:200},v),React.createElement("path",{d:"M813.12 0H277.632L0 365.376 550.4 1024l530.496-653.824L813.12 0zm31.168 402.688L605.248 725.12c-5.184 9.6-20.8 14.464-36.352 14.464a49.024 49.024 0 0 1-36.352-14.464l-239.04-317.632c-15.552-19.2-10.368-43.328 10.368-52.928 20.8-14.464 46.784-9.6 57.152 9.6l213.12 274.304 202.56-279.104c10.432-19.2 36.416-24.064 57.152-9.6 20.8 9.6 25.984 33.664 10.432 52.928z",fill:"#457AFF"}));var $="data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwODggMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMjEyLjUiIGhlaWdodD0iMjAwIj48cGF0aCBkPSJNODEzLjEyIDBIMjc3LjYzMkwwIDM2NS4zNzYgNTUwLjQgMTAyNGw1MzAuNDk2LTY1My44MjRMODEzLjEyIDB6bTMxLjE2OCA0MDIuNjg4TDYwNS4yNDggNzI1LjEyYy01LjE4NCA5LjYtMjAuOCAxNC40NjQtMzYuMzUyIDE0LjQ2NGE0OS4wMjQgNDkuMDI0IDAgMCAxLTM2LjM1Mi0xNC40NjRsLTIzOS4wNC0zMTcuNjMyYy0xNS41NTItMTkuMi0xMC4zNjgtNDMuMzI4IDEwLjM2OC01Mi45MjggMjAuOC0xNC40NjQgNDYuNzg0LTkuNiA1Ny4xNTIgOS42bDIxMy4xMiAyNzQuMzA0IDIwMi41Ni0yNzkuMTA0YzEwLjQzMi0xOS4yIDM2LjQxNi0yNC4wNjQgNTcuMTUyLTkuNiAyMC44IDkuNiAyNS45ODQgMzMuNjY0IDEwLjQzMiA1Mi45Mjh6IiBmaWxsPSIjNDU3QUZGIi8+PC9zdmc+",S=e(81569),Y=e(53846),H=e(3859),z=e(24163),L=e(25593),I=e(71230),Z=e(42075),le=e(86250),b=e(32983),A=e(96486),a=e(86074),ye=L.Z.Text,pe=L.Z.Paragraph,Me=function(d){var r,f=d.record;return(0,a.jsxs)("div",{style:{padding:"0 12px"},children:[(0,a.jsx)(I.Z,{style:{marginBottom:8},children:(0,a.jsx)(ye,{strong:!0,children:"Access Key List"})}),(0,a.jsx)(I.Z,{children:(0,A.isEmpty)(f==null?void 0:f.accessInfos)?(0,a.jsx)(le.Z,{style:{width:"100%",display:"block"},children:(0,a.jsx)(b.Z,{image:b.Z.PRESENTED_IMAGE_SIMPLE})}):(0,a.jsx)(Z.Z,{wrap:!0,size:16,children:f==null||(r=f.accessInfos)===null||r===void 0?void 0:r.map(function(R,B){return(0,a.jsx)(pe,{copyable:!0,style:{marginBottom:0},children:R==null?void 0:R.accessKeyId},B)})})})]})},xe=Me,ie=e(92635),J=e(21171),V=e(29448),de=e(97321),he=e(39380),Ie=e(93410),je=e(90498),D=e(45830),Ce=e(75302),ue=e(57381),Ee=e(66309),Te=e(83622),Le=e(15746),Ae=e(40357),ce=e(24732),De=Ce.ZP.useBreakpoint,Re=L.Z.Text,Pe=function(){var d=(0,D.useModel)("asset"),r=d.identityPlatformList,f=r[0].value,R=(0,i.useState)(f),B=o()(R,2),X=B[0],Ne=B[1],q=(0,i.useRef)(),ve=(0,i.useRef)(),g=(0,D.useIntl)(),ee=De(),Se=(0,i.useState)([]),me=o()(Se,2),P=me[0],te=me[1],ze=function(t){te(t)},ne=(0,D.useRequest)(function(s){return(0,J.queryIdentityCardList)({platformList:[s]})},{manual:!0,formatResult:function(t){return t==null?void 0:t.content}}),fe=ne.run,W=ne.data,Ze=ne.loading,ge=(0,D.useRequest)(function(){return(0,J.queryGroupTagList)({})},{manual:!0,formatResult:function(t){var n;return t==null||(n=t.content)===null||n===void 0?void 0:n.map(function(l){return{label:l,value:l}})}}),be=ge.run,Be=ge.data,ae=(0,D.useRequest)(function(s){return(0,ie.cloudAccountBaseInfoListV2)(c()({},s))},{manual:!0,formatResult:function(t){return t==null?void 0:t.content}}),We=ae.data,se=ae.run,Ue=ae.loading,we=(0,i.useMemo)(function(){var s=function(n){se({platformList:[X],cloudAccountSearch:n})};return(0,A.debounce)(s,500)},[ie.cloudAccountBaseInfoListV2]);(0,i.useEffect)(function(){fe(f),se({cloudAccountSearch:void 0,platformList:[f]}),be()},[]);var Ke=[{title:g.formatMessage({id:"common.select.label.cloudAccount"}),dataIndex:"cloudAccountId",valueType:"select",fieldProps:{placeholder:g.formatMessage({id:"common.select.query.text.placeholder"}),showSearch:!0,notFoundContent:Ue&&(0,a.jsx)(ue.Z,{size:"small"}),onSearch:we,options:We||[],fieldNames:{label:"alias",value:"cloudAccountId"}},align:"left",render:function(t,n){return(0,a.jsxs)("div",{children:[(0,a.jsx)("section",{style:{color:"rgb(51, 51, 51)"},children:(n==null?void 0:n.cloudAccountId)||"-"}),(0,a.jsxs)(le.Z,{style:{fontSize:"12px",color:"#999"},children:[(0,V.c5)(n.platform,r),(n==null?void 0:n.resourceTypeGroup)||"-"]})]})}},{title:g.formatMessage({id:"asset.table.columns.access.type"}),dataIndex:"accessType",hideInSearch:!0},{title:g.formatMessage({id:"asset.table.columns.unused.permission"}),dataIndex:"limit",hideInSearch:!0},{title:g.formatMessage({id:"asset.table.columns.text.label"}),valueType:"select",valueEnum:(0,V.W_)(Be),dataIndex:"tags",fieldProps:{mode:"multiple"},render:function(t,n){var l;return(0,A.isEmpty)(n.tags)?"-":(l=n.tags)===null||l===void 0?void 0:l.map(function(U,w){return(0,a.jsx)(Ee.Z,{color:"geekblue",children:U},w)})}},{title:"Access Key",dataIndex:"accessKeyIds",valueType:"select",fieldProps:{placeholder:g.formatMessage({id:"asset.input.text.placeholder.access.key"}),mode:"tags",suffixIcon:(0,a.jsx)(a.Fragment,{})},hideInTable:!0},{title:g.formatMessage({id:"cloudAccount.extend.title.cloud.operate"}),dataIndex:"option",valueType:"option",align:"center",fixed:"right",render:function(t,n){return(0,a.jsx)(Te.ZP,{size:"small",type:"link",href:"/assetManagement/identityAssociate?id=".concat(n==null?void 0:n.id),children:g.formatMessage({id:"common.button.text.detail"})},"IDENTITY_ASSOCIATE")}}],ke=function(){var s=p()(_()().mark(function t(n){var l,U,w,K,k,oe,re,O,_e;return _()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return l=n.pageSize,U=n.current,w=n.cloudAccountId,K=n.tags,k=n.accessKeyIds,oe={page:U,size:l,cloudAccountId:w,platform:X,tags:K==null?void 0:K.toString(),accessKeyIds:k==null?void 0:k.toString()},(0,A.isEmpty)(P)||(oe.ruleIds=P==null?void 0:P.toString()),j.next=5,(0,J.queryIdentityList)(oe);case 5:return re=j.sent,O=re.content,_e=re.code,j.abrupt("return",{data:O.data||[],total:(O==null?void 0:O.total)||0,success:_e===200||!1});case 9:case"end":return j.stop()}},t)}));return function(n){return s.apply(this,arguments)}}(),Ge=function(){var t;te([]),(t=q.current)===null||t===void 0||t.reloadAndRest()};return(0,a.jsxs)(he._z,{title:!1,className:ce.Z.securityControl,breadcrumbRender:!1,children:[(0,a.jsx)(Ie.Z,{className:ce.Z.tabProCard,tabs:{activeKey:X,destroyInactiveTabPane:!0,items:(0,V.T$)(r).map(function(s){return{label:s.label,key:s.value,children:(0,a.jsx)(ue.Z,{spinning:Ze,children:(0,A.isEmpty)(W)?(0,a.jsx)(b.Z,{image:b.Z.PRESENTED_IMAGE_SIMPLE}):(0,a.jsx)(de.Z.Group,{multiple:!0,value:P,onChange:ze,style:{display:"block"},children:(0,a.jsx)(I.Z,{gutter:[16,0],children:W==null?void 0:W.map(function(t){var n,l;return(0,a.jsx)(Le.Z,{span:ee!=null&&ee.xxl?4:6,children:(0,a.jsx)(de.Z,{value:t.ruleId,style:{maxWidth:"100%"},title:(0,a.jsx)(z.Z,{text:t.ruleName,rows:1,maxWidth:160}),extra:(0,a.jsx)(H.Z,{style:{marginRight:0},level:(n=t.riskLevel)===null||n===void 0?void 0:n.toUpperCase(),text:(l=t.riskLevel)===null||l===void 0?void 0:l.toUpperCase()}),description:(0,a.jsxs)(Z.Z,{size:4,children:[(0,a.jsx)(Ae.Z,{src:$,preview:!1,width:15}),(0,a.jsx)(Re,{strong:!0,children:t.userCount}),(0,a.jsx)("span",{children:g.formatMessage({id:"asset.module.text.identity"})})]})})},t.ruleId)})})})})}})||[],onChange:function(t){var n,l;Ne(t),(n=ve.current)===null||n===void 0||n.resetFields(),te([]),se({cloudAccountSearch:void 0,platformList:[t]}),fe(t),(l=q.current)===null||l===void 0||l.reload()}}}),(0,a.jsx)(je.Z,{rowKey:function(t,n){return n},search:{span:6,labelWidth:0},headerTitle:(0,a.jsx)("div",{className:Y.Z.customTitle,children:g.formatMessage({id:"asset.module.text.identity.inquiry"})}),onReset:function(){return Ge()},actionRef:q,formRef:ve,columns:Ke,request:ke,pagination:{showQuickJumper:!1,showSizeChanger:!0,defaultPageSize:10,defaultCurrent:1},expandable:{expandedRowRender:function(t){return(0,a.jsx)(xe,{record:t})},columnTitle:(0,a.jsx)("div",{style:{width:30,textAlign:"center"}}),columnWidth:30,rowExpandable:function(){return!0},expandIcon:S.Z}})]})},Oe=Pe},53846:function(C,u){u.Z={customTitle:"customTitle___nzcxh",riskHigh:"riskHigh___GstO6",riskMedium:"riskMedium___F4JTb",riskLow:"riskLow___HJopw",imgProcess:"imgProcess___NGndv",imgResult:"imgResult___wKhiG",validTag:"validTag___TRSau",invalidTag:"invalidTag___opVlG",waitingTag:"waitingTag___JZpZT"}},24732:function(C,u){u.Z={polymerizeWrap:"polymerizeWrap___DA0Kx",polymerizeCard:"polymerizeCard___cqy_L",polymerizeHead:"polymerizeHead___wg2jK",polymerizeMain:"polymerizeMain___MABwi",riskWrap:"riskWrap___bmqQb",riskWrapLeft:"riskWrapLeft___IXwxM",riskWrapRight:"riskWrapRight___Kdvj4",riskAsset:"riskAsset___QyUxz",assetMain:"assetMain___cdM5B",newTag:"newTag___MqjNr",assetMainItem:"assetMainItem___m8m8F",assetMainItemLabel:"assetMainItemLabel___xE6cJ",assetView:"assetView____rh3f",assetPageContainer:"assetPageContainer___XCTom",customFilterCard:"customFilterCard___vdglF",customText:"customText___B_t7o",iconWrap:"iconWrap___tQQp4",resourceInstance:"resourceInstance___Y06OO",assetConfigPageContainer:"assetConfigPageContainer___tB7j6",customAssetTable:"customAssetTable___J9RJC",cleanBlock:"cleanBlock___xLiWM",dimBlock:"dimBlock___HBpS1",customField:"customField___J1Iyu",tabProCard:"tabProCard___ahTeu"}}}]);
