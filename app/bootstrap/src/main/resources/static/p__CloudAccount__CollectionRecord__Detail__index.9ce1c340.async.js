"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8962],{20132:function(K,f,e){e.r(f);var P=e(15009),a=e.n(P),R=e(99289),E=e.n(R),O=e(5574),o=e.n(O),m=e(45830),D=e(29448),j=e(39380),h=e(83062),g=e(4393),i=e(26412),T=e(89094),u=e(62435),l=e(31272),t=e(86074),p=function(){var s,W=(0,m.useModel)("rule"),S=W.platformList,d=(0,m.useIntl)(),x=(0,m.useParams)(),M=x.id,V=(0,u.useState)(),b=o()(V,2),_=b[0],Z=b[1],$=(0,u.useState)(!1),U=o()($,2),z=U[0],I=U[1],G=(0,u.useState)(1),y=o()(G,2),k=y[0],X=y[1],J=(0,u.useState)(10),L=o()(J,2),N=L[0],Q=L[1],Y=function(){var C=E()(a()().mark(function c(){var n,v,H,B;return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return I(!0),r.prev=1,n=M.split("_"),v=o()(n,1),H=v[0],r.next=5,(0,l.xd)({id:parseInt(M,10)});case 5:B=r.sent,Z(B.content),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),console.error("\u83B7\u53D6\u91C7\u96C6\u8BB0\u5F55\u8BE6\u60C5\u5931\u8D25:",r.t0);case 12:return r.prev=12,I(!1),r.finish(12);case 15:case"end":return r.stop()}},c,null,[[1,9,12,15]])}));return function(){return C.apply(this,arguments)}}();(0,u.useEffect)(function(){M&&Y()},[M]);var F=[{title:d.formatMessage({id:"cloudAccount.extend.title.asset.type"}),dataIndex:"resourceType",key:"resourceType",render:function(c,n){return"".concat(n.resourceTypeName," (").concat(n.resourceType,")")}},{title:d.formatMessage({id:"cloudAccount.table.column.error.details"}),dataIndex:"errorDetailItems",key:"errorDetailItems",render:function(c){return(0,t.jsx)("ul",{style:{listStyle:"none",padding:0,margin:0},children:c.map(function(n,v){return(0,t.jsxs)("li",{style:{marginBottom:v<c.length-1?8:0},children:[(0,t.jsx)("div",{children:(0,t.jsx)("strong",{children:n.description})}),(0,t.jsx)("div",{style:{display:"flex",width:"100%"},children:(0,t.jsx)("div",{style:{overflow:"hidden",textOverflow:"ellipsis",flex:1,minWidth:0,wordBreak:"break-all"},children:(0,t.jsx)(h.Z,{title:n.message,children:(0,t.jsx)("span",{children:n.message})})})}),(0,t.jsx)("div",{style:{color:"#888"},children:n.time})]},v)})})}}];return(0,t.jsxs)(j._z,{title:d.formatMessage({id:"cloudAccount.collection.record.detail"}),loading:z,children:[(0,t.jsx)(g.Z,{children:(0,t.jsxs)(i.Z,{title:d.formatMessage({id:"cloudAccount.extend.title.basic.information"}),children:[(0,t.jsx)(i.Z.Item,{label:d.formatMessage({id:"cloudAccount.extend.title.cloud.platform"}),children:(0,D.c5)(_==null?void 0:_.platform,S)}),(0,t.jsx)(i.Z.Item,{label:d.formatMessage({id:"cloudAccount.extend.title.account.alias"}),children:_==null?void 0:_.alias}),(0,t.jsx)(i.Z.Item,{label:d.formatMessage({id:"cloudAccount.extend.title.account.id"}),children:_==null?void 0:_.cloudAccountId})]})}),(0,t.jsx)(g.Z,{style:{marginTop:24},title:d.formatMessage({id:"cloudAccount.error.resource.errorTypes"}),children:(0,t.jsx)(T.Z,{columns:F,dataSource:_==null?void 0:_.errorDetails,rowKey:"resourceType",pagination:{current:k,pageSize:N,total:(_==null||(s=_.errorDetails)===null||s===void 0?void 0:s.length)||0,onChange:function(c,n){X(c),Q(n)},showSizeChanger:!0,showQuickJumper:!0}})})]})};f.default=p},31272:function(K,f,e){e.d(f,{XX:function(){return T},Yq:function(){return j},xd:function(){return g}});var P=e(15009),a=e.n(P),R=e(97857),E=e.n(R),O=e(99289),o=e.n(O),m=e(40396),D=e(45830);function j(l,t){return h.apply(this,arguments)}function h(){return h=o()(a()().mark(function l(t,p){return a()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,D.request)("".concat(m._,"/api/cloudAccount/collectorRecord/getCollectorRecordList"),E()({method:"POST",headers:{"Content-Type":"application/json"},data:t},p||{})));case 1:case"end":return s.stop()}},l)})),h.apply(this,arguments)}function g(l,t){return i.apply(this,arguments)}function i(){return i=o()(a()().mark(function l(t,p){return a()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,D.request)("".concat(m._,"/api/cloudAccount/collectorRecord/getCollectorRecordDetail"),E()({method:"POST",headers:{"Content-Type":"application/json"},data:t},p||{})));case 1:case"end":return s.stop()}},l)})),i.apply(this,arguments)}function T(l,t){return u.apply(this,arguments)}function u(){return u=o()(a()().mark(function l(t,p){return a()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,D.request)("".concat(m._,"/api/cloudAccount/collectorRecord/getErrorCodeList"),E()({method:"POST",headers:{"Content-Type":"application/json"},data:t},p||{})));case 1:case"end":return s.stop()}},l)})),u.apply(this,arguments)}}}]);
