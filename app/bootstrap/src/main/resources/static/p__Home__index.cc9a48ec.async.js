"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3371],{24163:function(se,b,t){var X=t(97857),B=t.n(X),U=t(25593),I=t(83062),x=t(62435),N=t(86074),e=U.Z.Paragraph;b.Z=function(A){var E=A.text,p=A.width,M=A.maxWidth,Z=A.rows,ne=Z===void 0?2:Z,q=A.placement,D=q===void 0?"top":q,V=A.color,le=V===void 0?"rgba(0, 0, 0, 0.88)":V,k=A.link,S=k===void 0?!1:k,L=A.onClickCallBackFunc,W=A.style,n=W===void 0?{}:W,z=A.copyable,G=z===void 0?!1:z;return(0,N.jsx)("div",{style:{maxWidth:M,width:p},children:(0,N.jsx)(I.Z,{title:(0,N.jsx)("div",{children:E}),placement:D,children:(0,N.jsx)(e,{ellipsis:{rows:ne},style:B()({marginBottom:0,color:le,cursor:S?"pointer":""},n),onClick:L,copyable:G,children:E})})})}},99069:function(se,b,t){var X=t(15009),B=t.n(X),U=t(99289),I=t.n(U),x=t(5574),N=t.n(x),e=t(69492),A=t(98665),E=t(37476),p=t(5966),M=t(97462),Z=t(45830),ne=t(68872),q=t(23323),D=t(96486),V=t.n(D),le=t(62435),k=t(86074),S=function(W){var n=(0,Z.useAccess)(),z=ne.ZP.useMessage(),G=N()(z,2),me=G[0],ve=G[1],ae=q.Z.useForm(),T=N()(ae,1),H=T[0],O=(0,Z.useIntl)(),K=W.editFormVisible,P=W.setEditFormVisible,ie=function(){P(!1),H.resetFields()},ge=function(){var ee=I()(B()().mark(function Y(Q){var re,oe,$,ue;return B()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return re=Q.passwordAgo,oe=Q.passwordNow,$={oldPassword:re,newPassword:oe,userId:n.userId},J.next=4,(0,A.changeUserPassword)($);case 4:ue=J.sent,ue.msg==="success"&&(ie(),me.success(O.formatMessage({id:"individual.module.text.password.changed.successfully"})),(0,e.A)(600));case 6:case"end":return J.stop()}},Y)}));return function(Q){return ee.apply(this,arguments)}}();return(0,k.jsxs)(k.Fragment,{children:[ve,(0,k.jsxs)(E.Y,{title:O.formatMessage({id:"individual.module.text.change.password"}),width:520,form:H,modalProps:{destroyOnClose:!0,onCancel:function(){return ie()},styles:{body:{paddingTop:12}}},labelCol:{span:O.locale==="en-US"?7:4},wrapperCol:{span:O.locale==="en-US"?17:20},layout:"horizontal",open:K,onFinish:ge,children:[(0,k.jsx)(p.Z.Password,{name:"passwordAgo",label:O.formatMessage({id:"individual.module.text.old.password"}),rules:[{required:!0}]}),(0,k.jsx)(p.Z.Password,{name:"passwordNow",label:O.formatMessage({id:"individual.module.text.new.password"}),rules:[{required:!0}]}),(0,k.jsx)(M.Z,{name:["passwordNow"],children:function(Y){var Q=Y.passwordNow;return(0,k.jsx)(p.Z.Password,{name:"passwordAck",label:O.formatMessage({id:"individual.module.text.confirm.password"}),rules:[{required:!0,validator:function(oe,$){return(0,D.isEmpty)($)?Promise.reject(O.formatMessage({id:"individual.module.text.confirm.password.empty.tip"})):$!==Q?Promise.reject(O.formatMessage({id:"individual.module.text.confirm.password.inconsistent.tip"})):Promise.resolve()}}]})}})]})]})};b.Z=S},30369:function(se,b,t){t.r(b),t.d(b,{default:function(){return Le}});var X=t(5574),B=t.n(X),U=t(99069),I=t(93410),x=t(62435),N=t(53846),e=t(86074),A=function(w){var f=w.children,s=w.title,u=w.style,d=w.extra,r=w.className,c=w.bodyStyle,y=w.loading,a=w.cardNodeRef,v=w.headerBordered;return(0,e.jsx)(I.Z,{headStyle:{paddingInline:16},ref:a,loading:y,bodyStyle:c,title:(0,e.jsx)("div",{className:N.Z.customTitle,children:s}),headerBordered:v,style:u,extra:d,className:r,children:f})},E=t(24163),p=t(33262),M=t(17910),Z=t(29448),ne=t(11713),q=t(27732),D=t(45830),V=t(75302),le=t(83622),k=t(89094),S=t(71230),L=t(15746),W=t(2801),n={fullScreenWrap:"fullScreenWrap___PmQJu",homePage:"homePage___swT2A",overviewIconDefault:"overviewIconDefault___cHXia",instructViewWrapUp:"instructViewWrapUp___WHuqd",instructViewMain:"instructViewMain___Fytwy",instructViewIcon:"instructViewIcon___utbrn",upArrowIcon:"upArrowIcon___BtCcv",instructViewCount:"instructViewCount___riSgv",instructViewWrapDown:"instructViewWrapDown___xajnI",downArrowIcon:"downArrowIcon___jx1wF",overviewCard:"overviewCard___bR4W1",overviewContent:"overviewContent___TWXcZ",overviewContentName:"overviewContentName___JqArk",overviewContentValue:"overviewContentValue___TdTpM",kernel:"kernel___JySAr",kernelCol:"kernelCol___JTKHP",riskCard:"riskCard___ymhBj",riskLink:"riskLink___fA7EB",riskCount:"riskCount____j2jI",highRiskTitle:"highRiskTitle____NcDn",akCard:"akCard___dvhEa",akCount:"akCount___Q3Gne",akTitleText:"akTitleText___sKjTP",akACLTag:"akACLTag___IpAfv",inform:"inform___D0FqF",informCol:"informCol___DslOd",informTable:"informTable___PT9cM",g2ChartCard:"g2ChartCard___CwLNE",bannerWrap:"bannerWrap___YtSbI",bannerItem:"bannerItem___Uw0Pe",bannerItemColCommon:"bannerItemColCommon___EMd1c",bannerItemColLeft:"bannerItemColLeft___KYiBA",bannerItemColLeftFirst:"bannerItemColLeftFirst___pMCHx",bannerItemColLeftLast:"bannerItemColLeftLast___gzY3M",bannerItemLeft:"bannerItemLeft___FeKUR",agentResourceIcon:"agentResourceIcon___KevP_",agentResourceName:"agentResourceName___bm_EP",agentResourceType:"agentResourceType___Nwkzs",agentResourceCount:"agentResourceCount___V_89a",bannerEmpty:"bannerEmpty___S4lJ3"},z=V.ZP.useBreakpoint,G=function(f){var s=(0,D.useModel)("rule"),u=s.platformList,d=z(),r=f.handle,c=(0,D.useIntl)(),y=function(){r!=null&&r.active?r==null||r.exit():r==null||r.enter()},a=(0,D.useRequest)(function(){return(0,p.queryTopRiskList)({})},{manual:!0,formatResult:function(C){return C.content}}),v=a.data,m=a.run,_=a.loading;(0,x.useEffect)(function(){m()},[]);var o=function(C,l){D.history.push("/ruleManagement/ruleProject?platform=".concat(l,"&ruleCode=").concat(C))},i=[{title:c.formatMessage({id:"home.module.inform.columns.ruleName"}),dataIndex:"ruleName",align:"left",width:300,render:function(C,l){return(0,e.jsx)(E.Z,{onClickCallBackFunc:function(){return o(l.ruleCode,l==null?void 0:l.platform)},link:!0,color:"rgba(69, 122, 255, 1)",placement:"topLeft",text:l.ruleName||"-",maxWidth:d!=null&&d.xxl?300:280,rows:1})}},{title:c.formatMessage({id:"home.module.inform.columns.ruleTypeName"}),dataIndex:"ruleTypeNameList",align:"left",width:165,render:function(C,l){return(0,e.jsx)(E.Z,{placement:"topLeft",color:"#333",text:l.ruleTypeNameList.toString()||"-",maxWidth:d!=null&&d.xxl?165:120,rows:1})}},{title:c.formatMessage({id:"home.module.inform.columns.platform"}),dataIndex:"platform",align:"center",width:80,render:function(C,l){return(0,Z.c5)(l.platform,u)}},{title:c.formatMessage({id:"home.module.inform.columns.riskLevel"}),dataIndex:"riskLevel",align:"center",width:155,render:function(C,l){return(0,Z.Dd)(M.I9,l.riskLevel)}},{title:c.formatMessage({id:"home.module.inform.columns.riskCount"}),dataIndex:"riskCount",align:"center",width:176,render:function(C,l){return(0,e.jsx)(le.ZP,{style:{padding:0,color:"rgba(69,122,255,1)"},size:"small",type:"link",href:"/riskManagement/riskList?platform=".concat(l==null?void 0:l.platform,"&ruleCode=").concat(l==null?void 0:l.ruleCode),rel:"prefetch",children:l==null?void 0:l.count})}}];return(0,e.jsx)(A,{bodyStyle:{padding:"16px 16px 6px 16px",minHeight:475},title:"".concat(c.formatMessage({id:"home.module.inform.todo.Top10"})),extra:(d==null?void 0:d.md)&&(0,e.jsx)(e.Fragment,{children:r!=null&&r.active?(0,e.jsx)(ne.Z,{onClick:function(){return y()}}):(0,e.jsx)(q.Z,{onClick:function(){return y()}})}),children:(0,e.jsx)(k.Z,{scroll:{x:!0},size:"small",rowKey:"ruleId",columns:i,className:n.informTable,loading:_,dataSource:v,pagination:!1})})},me=function(){var f=z(),s=(0,W.r)();return(0,e.jsx)(S.Z,{gutter:[16,16],className:n.inform,children:f.xs?(0,e.jsx)(G,{}):(0,e.jsx)(L.Z,{span:24,className:n.informCol,children:(0,e.jsx)(W.I,{handle:s,className:n.fullScreenWrap,children:(0,e.jsx)(G,{handle:s})})})})},ve=me,ae=t(82339),T=t(86250),H=t(57381),O=t(91978),K=t(32983),P=t(96486),ie=function(f){var s=f.data,u=(0,D.useIntl)(),d=(0,x.useRef)(null),r=(0,x.useRef)(null),c=function(a){var v=a.list,m=v===void 0?[]:v,_=a.total||0;if(!(0,P.isEmpty)(m)&&!(0,P.isEmpty)(d.current)){var o,i,g,C=!1;(m==null||(o=m[0])===null||o===void 0?void 0:o.value)<10&&(m==null||(i=m[1])===null||i===void 0?void 0:i.value)<10&&(C=!0),r.current=new ae.kL({container:d.current,autoFit:!0}),r.current.coordinate({type:"theta",outerRadius:1,innerRadius:.6}),r.current.interval().data(m).transform({type:"stackY"}).encode("y","value").style("stroke","white").style("inset",.2).style("radius",2).encode("color","legend").scale("color",{range:["#7EA3FF","#FF7576"]}).interaction({legendFilter:!1}).legend("color",{position:"right",layout:{justifyContent:"center"},itemLabelFontSize:13,itemLabelColor:"#1F2024",itemLabelText:function(h){var j;return h==null||(j=h.id)===null||j===void 0||(j=j.split(" "))===null||j===void 0?void 0:j[0]},itemValueFill:"rgb(0, 0, 0)",itemValueFontSize:15,itemValueFontWeight:500,itemValueText:function(h){var j;return h==null||(j=h.id)===null||j===void 0||(j=j.split(" "))===null||j===void 0?void 0:j[1]},rowPadding:14,itemSpan:C?[100,40]:[150,100]}).tooltip(function(l){return{name:l.name,value:l.value}}),r.current.text().style("text","".concat(_)).style("x","50%").style("y","50%").style("dy",-4).style("fontSize",28).style("fill","#000").style("textAlign","center").tooltip(!1),r.current.text().style("text",u.formatMessage({id:"home.module.akSk.total"})).style("x","50%").style("y","50%").style("dy",22).style("fontSize",14).style("fill","#999").style("textAlign","center").tooltip(!1),r==null||(g=r.current)===null||g===void 0||g.render()}};return(0,x.useEffect)(function(){c(s)},[s]),(0,x.useEffect)(function(){return function(){var y;r==null||(y=r.current)===null||y===void 0||y.destroy()}},[]),(0,e.jsx)("div",{ref:d,style:{width:"100%",height:"98%"}})},ge=function(){var f=(0,D.useModel)("rule"),s=f.platformList,u=(0,D.useIntl)(),d=(0,D.useRequest)(function(){return(0,p.queryAccessKeyAndAclSituation)({})},{manual:!0,formatResult:function(v){var m;return(v==null||(m=v.content)===null||m===void 0?void 0:m.map(function(_){var o=_.accessKeyCount,i=_.accessKeyExistAclCount,g=_.accessKeyNotExistAclCount,C=_.platform,l=[{legend:"".concat(u.formatMessage({id:"home.module.akSk.exist.ACL"})," ").concat(i),name:"".concat(u.formatMessage({id:"home.module.akSk.exist.ACL"})),value:i},{legend:"".concat(u.formatMessage({id:"home.module.akSk.no.ACL"})," ").concat(g),name:"".concat(u.formatMessage({id:"home.module.akSk.no.ACL"})),value:g}];return{list:l,total:o,platform:C}}))||[]}}),r=d.data,c=d.run,y=d.loading;return(0,x.useEffect)(function(){c()},[]),(0,e.jsx)(I.Z,{className:n.bannerWrap,bodyStyle:{padding:0},children:y?(0,e.jsx)(T.Z,{style:{width:"100%",height:"100%"},align:"center",justify:"center",children:(0,e.jsx)(H.Z,{spinning:y})}):(0,e.jsx)(e.Fragment,{children:r&&(r==null?void 0:r.length)>0?(0,e.jsx)(O.Z,{arrows:!1,autoplay:!0,autoplaySpeed:3e3,infinite:!0,draggable:!0,children:r==null?void 0:r.map(function(a,v){return(0,e.jsx)(A,{className:n.akCard,title:u.formatMessage({id:"home.module.akSk.number"}),extra:(0,e.jsx)(T.Z,{wrap:"nowrap",children:(0,Z.fD)(a.platform,s)}),children:(0,e.jsx)(ie,{data:a},v)},v)})}):(0,e.jsx)(T.Z,{style:{width:"100%",height:"100%"},vertical:!0,align:"center",justify:"center",children:(0,e.jsx)(K.Z,{image:K.Z.PRESENTED_IMAGE_SIMPLE})})})})},ee=ge,Y=t(70501),Q=t(40357),re=V.ZP.useBreakpoint,oe=function(){var f=(0,D.useModel)("rule"),s=f.platformList,u=re(),d=(0,D.useIntl)(),r=(0,D.useRequest)(function(){return(0,p.queryPlatformResourceData)({})},{manual:!0,formatResult:function(m){return m.content}}),c=r.data,y=r.run,a=r.loading;return(0,x.useEffect)(function(){y()},[]),(0,e.jsx)(I.Z,{bodyStyle:{padding:0},className:n.bannerWrap,children:a?(0,e.jsx)(T.Z,{style:{width:"100%",height:"100%"},align:"center",justify:"center",children:(0,e.jsx)(H.Z,{spinning:a})}):(0,e.jsx)(e.Fragment,{children:c&&(c==null?void 0:c.length)>0?(0,e.jsx)(O.Z,{arrows:!1,autoplay:!0,autoplaySpeed:3e3,infinite:!0,draggable:!0,children:c==null?void 0:c.map(function(v,m){var _;return(0,e.jsx)(A,{title:d.formatMessage({id:"home.module.cloud.assets"}),extra:(0,e.jsxs)(T.Z,{wrap:"nowrap",children:[(0,Z.fD)(v.platform,s),"\xA0",d.formatMessage({id:"home.module.assets.number"}),v.total]}),className:n.bannerItem,children:(0,e.jsx)(S.Z,{gutter:[0,0],children:v==null||(_=v.resouceDataList)===null||_===void 0?void 0:_.map(function(o,i){var g;return(0,e.jsx)(L.Z,{span:12,style:{paddingRight:i%2===0?u.xxl?"12px":"6px":0,paddingLeft:i%2===1?u.xxl?"18px":"12px":0},className:i%2===1?n.bannerItemColCommon:i%2!==1&&i===0?n.bannerItemColLeftFirst:i%2!==1&&i===(v==null||(g=v.resouceDataList)===null||g===void 0?void 0:g.length)-1?n.bannerItemColLeftLast:n.bannerItemColLeft,children:(0,e.jsx)("a",{href:"/assetManagement/assetList?platform=".concat(v.platform,"&resourceGroupType=").concat(o==null?void 0:o.resourceGroupType,"&resourceType=").concat(o==null?void 0:o.resourceType),style:{color:"unset"},rel:"prefetch",children:(0,e.jsxs)(T.Z,{align:"center",justify:"space-between",style:{width:"100%"},children:[(0,e.jsxs)("div",{className:n.bannerItemLeft,children:[(0,e.jsx)(Q.Z,{src:(o==null?void 0:o.icon)||Y.Z,className:n.agentResourceIcon,fallback:Y.Z,preview:!1,alt:"DEFAULT_ICON"}),(0,e.jsx)("span",{className:n.agentResourceName,children:o.resourceGroupTypeName||"-"}),(0,e.jsx)("span",{className:n.agentResourceType,children:o.resourceType||"-"})]}),(0,e.jsx)("span",{className:n.agentResourceCount,children:o.count||0})]})})},i)})})},m)})}):(0,e.jsx)(I.Z,{className:n.bannerEmpty,children:(0,e.jsx)(T.Z,{style:{width:"100%",height:"100%"},vertical:!0,align:"center",justify:"center",children:(0,e.jsx)(K.Z,{image:K.Z.PRESENTED_IMAGE_SIMPLE})})})})})},$=oe,ue=function(){var f=(0,x.useRef)(null),s=(0,x.useRef)(null),u=(0,D.useIntl)(),d=function(_,o){(0,P.isEmpty)(_.current)||(_.current.text().style("text","".concat(o)).style("x","50%").style("y","50%").style("dy",-4).style("fontSize",28).style("fill","#000").style("textAlign","center").tooltip(!1),_.current.text().style("text",u.formatMessage({id:"home.module.risk.total"})).style("x","50%").style("y","50%").style("dy",22).style("fontSize",14).style("fill","#999").style("textAlign","center").tooltip(!1))},r=function(_){var o=_.list,i=o===void 0?[]:o,g=_.total||0;if(!(0,P.isEmpty)(i)&&!(0,P.isEmpty)(f.current)){var C,l,h,j=!1;(i==null||(C=i[0])===null||C===void 0?void 0:C.value)<10&&(i==null||(l=i[1])===null||l===void 0?void 0:l.value)<10&&(i==null||(h=i[2])===null||h===void 0?void 0:h.value)<10&&(j=!0),s.current=new ae.kL({container:f.current,autoFit:!0}),s.current.coordinate({type:"theta",outerRadius:1,innerRadius:.6}),s.current.interval().data(i).transform({type:"stackY"}).encode("y","value").style("stroke","white").style("inset",.2).style("radius",2).encode("color","legend").scale("color",{range:["#ec4344","#ff7a01","rgb(254, 192, 11)"]}).interaction({legendFilter:!1}).legend("color",{position:"right",layout:{justifyContent:"center"},itemLabelFontSize:13,itemLabelColor:"#1F2024",itemLabelText:function(F){var R;return F==null||(R=F.id)===null||R===void 0||(R=R.split(" "))===null||R===void 0?void 0:R[0]},itemValueFill:"rgb(0, 0, 0)",itemValueFontSize:15,itemValueFontWeight:500,itemValueText:function(F){var R;return F==null||(R=F.id)===null||R===void 0||(R=R.split(" "))===null||R===void 0?void 0:R[1]},rowPadding:14,itemSpan:j?[100,40]:[150,100]}).tooltip(function(te){return{name:te.name,value:te.value}}),d(s,g),s.current.render()}},c=(0,D.useRequest)(function(){return(0,p.queryRiskLevelData)({})},{manual:!0,formatResult:function(_){var o=_.content,i=o.highLevelRiskCount,g=i===void 0?0:i,C=o.mediumLevelRiskCount,l=C===void 0?0:C,h=o.lowLevelRiskCount,j=h===void 0?0:h,te=[{legend:"".concat(u.formatMessage({id:"home.module.risk.high"})," ").concat(g),name:"".concat(u.formatMessage({id:"home.module.risk.high"})),value:g},{legend:"".concat(u.formatMessage({id:"home.module.risk.middle"})," ").concat(l),name:"".concat(u.formatMessage({id:"home.module.risk.middle"})),value:l},{legend:"".concat(u.formatMessage({id:"home.module.risk.low"})," ").concat(j),name:"".concat(u.formatMessage({id:"home.module.risk.low"})),value:j}],F=g+l+j;return{list:te,total:F}}}),y=c.data,a=c.run,v=c.loading;return(0,x.useEffect)(function(){return a(),function(){var m;s==null||(m=s.current)===null||m===void 0||m.destroy()}},[]),(0,x.useEffect)(function(){(0,P.isEmpty)(y)||r(y)},[v]),(0,e.jsx)(A,{className:n.riskCard,title:u.formatMessage({id:"home.module.risk.todo"}),children:(0,e.jsx)("div",{ref:f,style:{width:"100%",height:"98%"},children:v&&(0,e.jsx)(T.Z,{style:{width:"100%",height:"100%"},align:"center",justify:"center",children:(0,e.jsx)(H.Z,{spinning:v})})})})},fe=ue,J=function(){return(0,e.jsxs)(S.Z,{gutter:[16,16],className:n.kernel,children:[(0,e.jsx)(L.Z,{span:24,className:n.kernelCol,children:(0,e.jsx)(fe,{})}),(0,e.jsx)(L.Z,{span:24,className:n.kernelCol,children:(0,e.jsx)($,{})}),(0,e.jsx)(L.Z,{span:24,className:n.kernelCol,children:(0,e.jsx)(ee,{})})]})},_e=J,he=t(10010),Ce=t(39398),pe=V.ZP.useBreakpoint,de=function(f){var s=f.nowCount,u=s===void 0?0:s,d=f.yesterdayCount,r=d===void 0?0:d;return u===r?(0,e.jsx)(e.Fragment,{}):(0,e.jsxs)("span",{className:u>=r?n.instructViewWrapUp:n.instructViewWrapDown,children:["(",(0,e.jsxs)("span",{className:n.instructViewMain,children:[(0,e.jsx)("span",{className:n.instructViewIcon,children:u>=r?(0,e.jsx)(he.Z,{className:n.upArrowIcon}):(0,e.jsx)(Ce.Z,{className:n.downArrowIcon})}),(0,e.jsx)("span",{className:n.instructViewCount,children:Math.abs(u-r).toFixed(0)})]}),")"]})},ye=function(){var f,s,u,d,r=pe(),c=(0,D.useIntl)(),y=(0,D.useRequest)(function(){return(0,p.queryAggregatedData)({})},{manual:!0,formatResult:function(o){return o.content}}),a=y.data,v=y.run,m=y.loading;return(0,x.useEffect)(function(){v()},[]),(0,e.jsx)(I.Z,{bodyStyle:{padding:0},loading:m,style:{backgroundColor:m?"#FFF":"transparent"},children:(0,e.jsxs)(S.Z,{gutter:[16,16],children:[(0,e.jsx)(L.Z,{span:r.xs?24:6,children:(0,e.jsx)(I.Z,{className:n.overviewCard,children:(0,e.jsxs)(T.Z,{justify:"space-between",align:"center",style:{width:"100%"},children:[(0,e.jsxs)("a",{className:n.overviewContent,href:"/cloudAccount/accountList",target:"_self",rel:"prefetch",children:[(0,e.jsx)("div",{className:n.overviewContentName,children:c.formatMessage({id:"home.module.overview.platform"})}),(0,e.jsxs)("div",{className:n.overviewContentValue,children:[(a==null?void 0:a.platformCount)||0,(0,e.jsx)(de,{nowCount:a==null?void 0:a.platformCount,yesterdayCount:a==null||(f=a.yesterdayHomeAggregatedDataVO)===null||f===void 0?void 0:f.platformCount})]})]}),(0,e.jsx)("img",{className:n.overviewIconDefault,src:M.FM.CLOUD_PLATFORM,alt:"CLOUD_PLATFORM"})]})})}),(0,e.jsx)(L.Z,{span:r.xs?24:6,children:(0,e.jsx)(I.Z,{className:n.overviewCard,children:(0,e.jsxs)(T.Z,{justify:"space-between",align:"center",style:{width:"100%"},children:[(0,e.jsxs)("a",{className:n.overviewContent,href:"/cloudAccount/accountList",target:"_self",rel:"prefetch",children:[(0,e.jsx)("div",{className:n.overviewContentName,children:c.formatMessage({id:"home.module.overview.account"})}),(0,e.jsxs)("div",{className:n.overviewContentValue,children:[(a==null?void 0:a.cloudAccountCount)||0,(0,e.jsx)(de,{nowCount:a==null?void 0:a.cloudAccountCount,yesterdayCount:a==null||(s=a.yesterdayHomeAggregatedDataVO)===null||s===void 0?void 0:s.cloudAccountCount})]})]}),(0,e.jsx)("img",{className:n.overviewIconDefault,src:M.FM.CLOUD_ACCOUNT,alt:"CLOUD_ACCOUNT"})]})})}),(0,e.jsx)(L.Z,{span:r.xs?24:6,children:(0,e.jsx)(I.Z,{className:n.overviewCard,children:(0,e.jsxs)(T.Z,{justify:"space-between",align:"center",style:{width:"100%"},children:[(0,e.jsxs)("a",{className:n.overviewContent,href:"/assetManagement/polymerize",target:"_self",rel:"prefetch",children:[(0,e.jsx)("div",{className:n.overviewContentName,children:c.formatMessage({id:"home.module.overview.asset"})}),(0,e.jsxs)("div",{className:n.overviewContentValue,children:[(a==null?void 0:a.resourceCount)||0,(0,e.jsx)(de,{nowCount:a==null?void 0:a.resourceCount,yesterdayCount:a==null||(u=a.yesterdayHomeAggregatedDataVO)===null||u===void 0?void 0:u.resourceCount})]})]}),(0,e.jsx)("img",{className:n.overviewIconDefault,src:M.FM.CLOUD_ASSET,alt:"CLOUD_ASSET"})]})})}),(0,e.jsx)(L.Z,{span:r.xs?24:6,children:(0,e.jsx)(I.Z,{className:n.overviewCard,children:(0,e.jsxs)(T.Z,{justify:"space-between",align:"center",style:{width:"100%"},children:[(0,e.jsxs)("a",{className:n.overviewContent,href:"/riskManagement/riskList",target:"_self",rel:"prefetch",children:[(0,e.jsx)("div",{className:n.overviewContentName,children:c.formatMessage({id:"home.module.overview.risk"})}),(0,e.jsxs)("div",{className:n.overviewContentValue,children:[(a==null?void 0:a.riskCount)||0,(0,e.jsx)(de,{nowCount:a==null?void 0:a.riskCount,yesterdayCount:a==null||(d=a.yesterdayHomeAggregatedDataVO)===null||d===void 0?void 0:d.riskCount})]})]}),(0,e.jsx)("img",{className:n.overviewIconDefault,src:M.FM.CLOUD_RISK,alt:"CLOUD_RISK"})]})})})]})})},xe=ye,De=t(97857),ce=t.n(De),Me="rgba(69,122,255,1)",we="rgba(255,117,118,1)",je=function(){var f=(0,x.useRef)(null),s=(0,x.useRef)(null),u=(0,D.useIntl)(),d=function(_){var o=(0,P.cloneDeep)(_),i=[],g=[],C=o==null?void 0:o.some(function(h){return h.type==="\u5DF2\u5904\u7406"}),l=o==null?void 0:o.some(function(h){return h.type==="\u672A\u5904\u7406"});return C&&i.push(Me),l&&i.push(we),o==null||o.forEach(function(h){h.type==="\u5DF2\u5904\u7406"&&g.push(ce()(ce()({},h),{},{type:u.formatMessage({id:"home.module.trend.handled"})}))}),o==null||o.forEach(function(h){h.type==="\u672A\u5904\u7406"&&g.push(ce()(ce()({},h),{},{type:u.formatMessage({id:"home.module.trend.untreated"})}))}),{range:i,array:g}},r=function(_){if(!(0,P.isEmpty)(_)&&!(0,P.isEmpty)(f.current)){var o,i,g,C=d(_),l=C.range,h=C.array;s.current=new ae.kL({container:f.current,autoFit:!0,paddingLeft:36,paddingRight:24,paddingTop:24,paddingBottom:12}),s.current.data(h).encode("x","date").encode("y","count").encode("color","type").scale("y",{nice:!0,domainMin:0}).scale("color",{range:l}).axis("y",{title:!1,line:!1,labelFontSize:12,labelFill:"rgb(133,137,143)",tickLength:4,tickStroke:"rgb(133,137,143)",tickStrokeOpacity:1,transform:!0,labelAutoHide:!0}).axis("x",{title:!1,line:!0,lineStroke:"rgb(133,137,143)",lineStrokeOpacity:1,labelFontSize:12,labelFill:"rgb(133,137,143)",tickLength:4,tickStroke:"rgb(133,137,143)",tickStrokeOpacity:1,transform:!0,labelAutoHide:!0}).legend("color",{layout:{justifyContent:"flex-end"}}),(o=s.current)===null||o===void 0||o.area().style("fillOpacity",.06),(i=s.current)===null||i===void 0||i.line().style("lineWidth",1.6).tooltip(!1),s==null||(g=s.current)===null||g===void 0||g.render()}},c=(0,D.useRequest)(function(){return(0,p.queryRiskTrend)({})},{manual:!0,formatResult:function(_){return _.content}}),y=c.data,a=c.run,v=c.loading;return(0,x.useEffect)(function(){return a(),function(){var m;s==null||(m=s.current)===null||m===void 0||m.destroy()}},[]),(0,x.useEffect)(function(){r(y)},[v]),(0,e.jsx)(A,{title:u.formatMessage({id:"home.module.trend.data"}),className:n.g2ChartCard,bodyStyle:{padding:"16px"},children:(0,e.jsxs)("div",{ref:f,style:{width:"100%",height:"98%"},children:[v&&(0,e.jsx)(T.Z,{style:{width:"100%",height:"100%"},align:"center",justify:"center",children:(0,e.jsx)(H.Z,{spinning:v})}),(0,P.isEmpty)(y)&&(0,e.jsx)("div",{style:{paddingTop:47},children:(0,e.jsx)(K.Z,{image:K.Z.PRESENTED_IMAGE_SIMPLE})})]})})},Ae=je,Ee=t(39380),Ie=V.ZP.useBreakpoint,Te=function(){var f=Ie(),s=(0,D.useAccess)(),u=(0,x.useState)(!1),d=B()(u,2),r=d[0],c=d[1];return(0,x.useEffect)(function(){s!=null&&s.lastLoginTime||c(!0)},[]),(0,e.jsxs)(Ee._z,{ghost:!0,title:!1,className:n.homePage,childrenContentStyle:f.xs?{paddingBlockEnd:16,paddingInline:20}:{},children:[(0,e.jsx)(xe,{}),(0,e.jsxs)(S.Z,{gutter:[16,16],children:[(0,e.jsxs)(L.Z,{span:f.xs?24:15,children:[(0,e.jsx)(Ae,{}),(0,e.jsx)(ve,{})]}),(0,e.jsx)(L.Z,{span:f.xs?24:9,children:(0,e.jsx)(_e,{})})]}),(0,e.jsx)(U.Z,{editFormVisible:r,setEditFormVisible:c})]})},Le=Te},53846:function(se,b){b.Z={customTitle:"customTitle___nzcxh",riskHigh:"riskHigh___GstO6",riskMedium:"riskMedium___F4JTb",riskLow:"riskLow___HJopw",imgProcess:"imgProcess___NGndv",imgResult:"imgResult___wKhiG",validTag:"validTag___TRSau",invalidTag:"invalidTag___opVlG",waitingTag:"waitingTag___JZpZT"}},70501:function(se,b,t){var X=t(62435),B=Object.defineProperty,U=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,N=(E,p,M)=>p in E?B(E,p,{enumerable:!0,configurable:!0,writable:!0,value:M}):E[p]=M,e=(E,p)=>{for(var M in p||(p={}))I.call(p,M)&&N(E,M,p[M]);if(U)for(var M of U(p))x.call(p,M)&&N(E,M,p[M]);return E};const A=E=>React.createElement("svg",e({className:"DEFAULT_RESOURCE_ICON_svg__icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:256,height:256},E),React.createElement("path",{d:"M827.52 782.08a39.84 39.84 0 0 0 56.64 0l104.32-103.36a119.68 119.68 0 0 0 0-170.08L886.4 405.92a40 40 0 0 0-56.8 56.16l90.88 92h-322.4a40 40 0 0 0 0 80h322.24l-92.48 91.52a40 40 0 0 0-.32 56.48z",fill:"#1480ED"}),React.createElement("path",{d:"M864 80h-52V40a40 40 0 0 0-80 0v40H550.08V40a40 40 0 0 0-80 0v40h-180V40a40 40 0 1 0-80 0v40H160A160 160 0 0 0 0 240v624a160 160 0 0 0 160 160h704a160 160 0 0 0 160-160 40 40 0 0 0-80 0 80 80 0 0 1-80 80H160a80 80 0 0 1-80-80V240a80 80 0 0 1 80-80h50.08v40a40 40 0 0 0 80 0v-40h180v40a40 40 0 0 0 80 0v-40H732v40a40 40 0 0 0 80 0v-40h52a80 80 0 0 1 80 80v90.08a40 40 0 0 0 80 0V240A160 160 0 0 0 864 80z",fill:"#2A5699"}));b.Z="data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMjU2IiBoZWlnaHQ9IjI1NiI+PHBhdGggZD0iTTgyNy41MiA3ODIuMDhhMzkuODQgMzkuODQgMCAwIDAgNTYuNjQgMGwxMDQuMzItMTAzLjM2YTExOS42OCAxMTkuNjggMCAwIDAgMC0xNzAuMDhMODg2LjQgNDA1LjkyYTQwIDQwIDAgMCAwLTU2LjggNTYuMTZsOTAuODggOTJoLTMyMi40YTQwIDQwIDAgMCAwIDAgODBoMzIyLjI0bC05Mi40OCA5MS41MmE0MCA0MCAwIDAgMC0uMzIgNTYuNDh6IiBmaWxsPSIjMTQ4MEVEIi8+PHBhdGggZD0iTTg2NCA4MGgtNTJWNDBhNDAgNDAgMCAwIDAtODAgMHY0MEg1NTAuMDhWNDBhNDAgNDAgMCAwIDAtODAgMHY0MGgtMTgwVjQwYTQwIDQwIDAgMSAwLTgwIDB2NDBIMTYwQTE2MCAxNjAgMCAwIDAgMCAyNDB2NjI0YTE2MCAxNjAgMCAwIDAgMTYwIDE2MGg3MDRhMTYwIDE2MCAwIDAgMCAxNjAtMTYwIDQwIDQwIDAgMCAwLTgwIDAgODAgODAgMCAwIDEtODAgODBIMTYwYTgwIDgwIDAgMCAxLTgwLTgwVjI0MGE4MCA4MCAwIDAgMSA4MC04MGg1MC4wOHY0MGE0MCA0MCAwIDAgMCA4MCAwdi00MGgxODB2NDBhNDAgNDAgMCAwIDAgODAgMHYtNDBINzMydjQwYTQwIDQwIDAgMCAwIDgwIDB2LTQwaDUyYTgwIDgwIDAgMCAxIDgwIDgwdjkwLjA4YTQwIDQwIDAgMCAwIDgwIDBWMjQwQTE2MCAxNjAgMCAwIDAgODY0IDgweiIgZmlsbD0iIzJBNTY5OSIvPjwvc3ZnPg=="}}]);
